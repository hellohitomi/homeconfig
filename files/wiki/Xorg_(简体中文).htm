<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html dir="ltr" lang="en"><head>
<title>Xorg (简体中文) - ArchWiki</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="MediaWiki 1.16.2">
<link rel="shortcut icon" href="https://wiki.archlinux.org/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.archlinux.org/opensearch_desc.php" title="ArchWiki (en)">
<link title="Creative Commons" type="application/rdf+xml" href="https://wiki.archlinux.org/index.php?title=Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29&amp;action=creativecommons" rel="meta">
<link rel="copyright" href="http://www.gnu.org/copyleft/fdl.html">
<link rel="alternate" type="application/atom+xml" title="ArchWiki Atom feed" href="https://wiki.archlinux.org/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/shared.css" media="screen">
<link rel="stylesheet" href="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/commonPrint.css" media="print">
<link rel="stylesheet" href="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/main.css" media="screen">
<!--[if lt IE 5.5000]><link rel="stylesheet" href="https://d11xdyzr0div58.cloudfront.net/wiki-1.16.0/skins/archlinux/IE50Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="https://d11xdyzr0div58.cloudfront.net/wiki-1.16.0/skins/archlinux/IE55Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="https://d11xdyzr0div58.cloudfront.net/wiki-1.16.0/skins/archlinux/IE60Fixes.css?270" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="https://d11xdyzr0div58.cloudfront.net/wiki-1.16.0/skins/archlinux/IE70Fixes.css?270" media="screen" /><![endif]-->
<link rel="stylesheet" href="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/archnavbar.css" media="screen">
<link rel="stylesheet" href="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/arch.css" media="screen">
<link rel="stylesheet" href="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/index.css">
<script>
var skin="archlinux",
stylepath="https://d11xdyzr0div58.cloudfront.net/wiki-1.16.0/skins",
wgUrlProtocols="http\\:\\/\\/|https\\:\\/\\/|ftp\\:\\/\\/|irc\\:\\/\\/|gopher\\:\\/\\/|telnet\\:\\/\\/|nntp\\:\\/\\/|worldwind\\:\\/\\/|mailto\\:|news\\:|svn\\:\\/\\/",
wgArticlePath="/index.php/$1",
wgScriptPath="",
wgScriptExtension=".php",
wgScript="/index.php",
wgVariantArticlePath=false,
wgActionPaths={},
wgServer="https://wiki.archlinux.org",
wgCanonicalNamespace="",
wgCanonicalSpecialPageName=false,
wgNamespaceNumber=0,
wgPageName="Xorg_(简体中文)",
wgTitle="Xorg (简体中文)",
wgAction="view",
wgArticleId=3996,
wgIsArticle=true,
wgUserName=null,
wgUserGroups=null,
wgUserLanguage="en",
wgContentLanguage="en",
wgBreakFrames=false,
wgCurRevisionId=135893,
wgVersion="1.16.2",
wgEnableAPI=true,
wgEnableWriteAPI=true,
wgSeparatorTransformTable=["", ""],
wgDigitTransformTable=["", ""],
wgMainPageTitle="Main Page",
wgFormattedNamespaces={"-2": "Media", "-1": "Special", "0": "", "1": "Talk", "2": "User", "3": "User talk", "4": "ArchWiki", "5": "ArchWiki talk", "6": "File", "7": "File talk", "8": "MediaWiki", "9": "MediaWiki talk", "10": "Template", "11": "Template talk", "12": "Help", "13": "Help talk", "14": "Category", "15": "Category talk"},
wgNamespaceIds={"media": -2, "special": -1, "": 0, "talk": 1, "user": 2, "user_talk": 3, "archwiki": 4, "archwiki_talk": 5, "file": 6, "file_talk": 7, "mediawiki": 8, "mediawiki_talk": 9, "template": 10, "template_talk": 11, "help": 12, "help_talk": 13, "category": 14, "category_talk": 15, "image": 6, "image_talk": 7},
wgSiteName="ArchWiki",
wgCategories=["X Server (简体中文)", "HOWTOs (简体中文)", "简体中文"],
wgRestrictionEdit=[],
wgRestrictionMove=[];
</script><script src="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/wikibits.js"></script>
<script src="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/ajax.js"></script>
<script src="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/index.php"></script>

<script>try {  for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){    var lastpass_f = document.forms[lastpass_iter];    if(typeof(lastpass_f.lpsubmitorig)=="undefined"){      if (typeof(lastpass_f.submit) == "function") {        lastpass_f.lpsubmitorig = lastpass_f.submit;        lastpass_f.submit = function(){          var form = this;          try {            if (document.documentElement && 'createEvent' in document)            {              var forms = document.getElementsByTagName('form');              for (var i=0 ; i<forms.length ; ++i)                if (forms[i]==form)                {                  var element = document.createElement('lpformsubmitdataelement');                  element.setAttribute('formnum',i);                  element.setAttribute('from','submithook');                  document.documentElement.appendChild(element);                  var evt = document.createEvent('Events');                  evt.initEvent('lpformsubmit',true,false);                  element.dispatchEvent(evt);                  break;                }            }          } catch (e) {}          try {            form.lpsubmitorig();          } catch (e) {}        }      }    }  }} catch (e) {}</script></head>
<body class="mediawiki ltr ns-0 ns-subject page-Xorg_简体中文 skin-archlinux">
<div id="archnavbar"><!-- Arch Linux global navigation bar -->
	<div id="archnavbarlogo">
		<p><a id="logo" href="http://www.archlinux.org/"></a></p>
	</div>
	<div id="archnavbarmenu">
		<ul id="archnavbarlist">
			<li id="anb-home"><a href="http://www.archlinux.org/">Home</a></li><li id="anb-packages"><a href="http://www.archlinux.org/packages/">Packages</a></li><li id="anb-forums"><a href="https://bbs.archlinux.org/">Forums</a></li><li id="anb-wiki" class="anb-selected"><a href="https://wiki.archlinux.org/">Wiki</a></li><li id="anb-bugs"><a href="https://bugs.archlinux.org/">Bugs</a></li><li id="anb-aur"><a href="https://aur.archlinux.org/">AUR</a></li><li id="anb-download"><a href="http://www.archlinux.org/download/">Download</a></li>		</ul>
	</div>
</div><!-- #archnavbar -->
<div id="globalWrapper">
<div id="column-content"><div id="content">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading">Xorg (简体中文)</h1>
	<div id="bodyContent">
		<h3 id="siteSub">From ArchWiki</h3>
		<div id="contentSub"></div>
		<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div class="toc noprint" style="text-align: center; margin-bottom: 1em">
<p><b><a href="https://wiki.archlinux.org/index.php/Help:I18n" title="Help:I18n">i18n</a></b>
</p>
<hr>
<p><a href="https://wiki.archlinux.org/index.php/Xorg_%28Dansk%29" title="Xorg (Dansk)">Dansk</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg" title="Xorg">English</a>&nbsp;– 
<a href="https://wiki.archlinux.org/index.php/Xorg_%28Espa%C3%B1ol%29" title="Xorg (Español)">Español</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg_%28Fran%C3%A7ais%29" title="Xorg (Français)" class="mw-redirect">Français</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28Indonesia%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Indonesia) (page does not exist)">Indonesia</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg_%28Italiano%29" title="Xorg (Italiano)">Italiano</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28Lietuvi%C5%A1kai%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Lietuviškai) (page does not exist)">Lietuviškai</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28Magyar%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Magyar) (page does not exist)">Magyar</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28Nederlands%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Nederlands) (page does not exist)">Nederlands</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg_%28Portugu%C3%AAs%29" title="Xorg (Português)">Português</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28Rom%C3%A2n%C4%83%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Română) (page does not exist)">Română</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28Slovensk%C3%BD%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Slovenský) (page does not exist)">Slovenský</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28Suomi%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Suomi) (page does not exist)">Suomi</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28Svenska%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Svenska) (page does not exist)">Svenska</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg_%28T%C3%BCrk%C3%A7e%29" title="Xorg (Türkçe)">Türkçe</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg_%28%C4%8Cesky%29" title="Xorg (Česky)">Česky</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg_%28%CE%95%CE%BB%CE%BB%CE%B7%CE%BD%CE%B9%CE%BA%CE%AC%29" title="Xorg (Ελληνικά)">Ελληνικά</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%D0%91%D1%8A%D0%BB%D0%B3%D0%B0%D1%80%D1%81%D0%BA%D0%B8%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Български) (page does not exist)">Български</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg_%28%D0%A0%D1%83%D1%81%D1%81%D0%BA%D0%B8%D0%B9%29" title="Xorg (Русский)">Русский</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%D0%A1%D1%80%D0%BF%D1%81%D0%BA%D0%B8%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Српски) (page does not exist)">Српски</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%D0%A3%D0%BA%D1%80%D0%B0%D1%97%D0%BD%D1%81%D1%8C%D0%BA%D0%B0%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (Українська) (page does not exist)">Українська</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%D7%A2%D7%91%D7%A8%D7%99%D7%AA%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (עברית) (page does not exist)">עברית</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%E0%B9%84%E0%B8%97%E0%B8%A2%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (ไทย) (page does not exist)">ไทย</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%E6%97%A5%E6%9C%AC%E8%AA%9E%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (日本語) (page does not exist)">日本語</a>&nbsp;–
<a href="https://wiki.archlinux.org/index.php/Xorg_%28%E6%AD%A3%E9%AB%94%E4%B8%AD%E6%96%87%29" title="Xorg (正體中文)">正體中文</a>&nbsp;–
<strong class="selflink">简体中文</strong>&nbsp;–
<a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%ED%95%9C%EA%B5%AD%EC%96%B4%29&amp;action=edit&amp;redlink=1" class="new" title="Xorg (한국어) (page does not exist)">한국어</a> 
</p>
</div>
<table style="margin-left: 5px; padding: 5px; border-spacing: 0px 4px; float: right; clear: right; width: 25%;" cellpadding="0">

<tbody><tr style="text-align: center;">
<th style="background: none repeat scroll 0% 0% rgb(51, 51, 51); color: white; padding: 3px;"> <b>Summary</b>
</th></tr>
<tr>
<td style="text-align: left; padding: 3px;"> An all-inclusive overview about installing and managing Xorg
</td></tr>
<tr style="text-align: center; height: 1.5em;">
<th style="background: none repeat scroll 0% 0% rgb(51, 51, 51); color: white; padding: 2px;"> <b>摘要</b>
</th></tr>
<tr>
<td style="text-align: left; padding: 3px;"> The <a href="https://wiki.archlinux.org/index.php/Xorg" title="Xorg">Xorg</a> project provides an open source implementation of the X Window System – the foundation for a graphical user interface. <a href="https://wiki.archlinux.org/index.php/Desktop_Environment" title="Desktop Environment">Desktop environments</a> such as <a href="https://wiki.archlinux.org/index.php/E17" title="E17">E17</a>, <a href="https://wiki.archlinux.org/index.php/GNOME" title="GNOME">GNOME</a>, <a href="https://wiki.archlinux.org/index.php/KDE" title="KDE">KDE</a>, <a href="https://wiki.archlinux.org/index.php/LXDE" title="LXDE">LXDE</a>, and <a href="https://wiki.archlinux.org/index.php/Xfce" title="Xfce">Xfce</a> provide a complete graphical environment. Various <a href="https://wiki.archlinux.org/index.php/Window_Manager" title="Window Manager">window managers</a> offer alternative and novel environments, and may be used <i>standalone</i> to conserve system resources. <a href="https://wiki.archlinux.org/index.php/Display_Manager" title="Display Manager">Display managers</a> provide a graphical login prompt.
</td></tr>
<tr style="text-align: center; height: 1.5em;">
<th style="background: none repeat scroll 0% 0% rgb(51, 51, 51); color: white; padding: 2px;"> <b>相关</b>
</th></tr>
<tr>
<td style="text-align: left; padding: 3px;"> <a href="https://wiki.archlinux.org/index.php/ATI" title="ATI">ATI</a>
</td></tr>
<tr>
<td style="text-align: left; padding: 3px;"> <a href="https://wiki.archlinux.org/index.php/Intel" title="Intel">Intel</a>
</td></tr>
<tr>
<td style="text-align: left; padding: 3px;"> <a href="https://wiki.archlinux.org/index.php/NVIDIA" title="NVIDIA">NVIDIA</a>
</td></tr></tbody></table>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2> <span class="toctoggle">[<a href="javascript:toggleToc()" class="internal" id="togglelink">hide</a>]</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E4.BB.8B.E7.BB.8D"><span class="tocnumber">1</span> <span class="toctext">介绍</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.E5.AE.89.E8.A3.85_Xorg"><span class="tocnumber">2</span> <span class="toctext">安装 Xorg</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.E9.85.8D.E7.BD.AExorg"><span class="tocnumber">3</span> <span class="toctext">配置xorg</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#.E6.97.A0.E9.9C.80xorg.conf"><span class="tocnumber">3.1</span> <span class="toctext">无需xorg.conf</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#.E4.B8.8D.E4.BD.BF.E7.94.A8xorg.conf.E9.85.8D.E7.BD.AEnon-us.E9.94.AE.E7.9B.98"><span class="tocnumber">3.1.1</span> <span class="toctext">不使用xorg.conf配置non-us键盘</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-6"><a href="#hwd"><span class="tocnumber">3.2</span> <span class="toctext">hwd</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Xorg_-configure"><span class="tocnumber">3.3</span> <span class="toctext">Xorg -configure</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#nvidia-xconfig"><span class="tocnumber">3.4</span> <span class="toctext">nvidia-xconfig</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#.E6.A0.B9.E6.8D.AEXorg.0.log.E6.96.87.E4.BB.B6.E4.B8.AD.E5.88.9B.E5.BB.BA"><span class="tocnumber">3.5</span> <span class="toctext">根据Xorg.0.log文件中创建</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#.E7.BC.96.E8.BE.91_xorg.conf"><span class="tocnumber">4</span> <span class="toctext">编辑 xorg.conf</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#.E6.98.BE.E7.A4.BA.E5.99.A8.E8.AE.BE.E7.BD.AE"><span class="tocnumber">4.1</span> <span class="toctext">显示器设置</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#.E6.B0.B4.E5.B9.B3.E5.90.8C.E6.AD.A5"><span class="tocnumber">4.1.1</span> <span class="toctext">水平同步</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#.E5.88.B7.E6.96.B0.E7.8E.87"><span class="tocnumber">4.1.2</span> <span class="toctext">刷新率</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#.E8.89.B2.E6.B7.B1"><span class="tocnumber">4.1.3</span> <span class="toctext">色深</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#.E5.88.86.E8.BE.A8.E7.8E.87"><span class="tocnumber">4.1.4</span> <span class="toctext">分辨率</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#.E9.94.AE.E7.9B.98.E8.AE.BE.E7.BD.AE"><span class="tocnumber">4.2</span> <span class="toctext">键盘设置</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#.E9.94.AE.E7.9B.98.E5.B8.83.E5.B1.80_Keyboard_Layout"><span class="tocnumber">4.2.1</span> <span class="toctext">键盘布局 Keyboard Layout</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#.E9.94.AE.E7.9B.98.E6.A8.A1.E5.9E.8B_Keyboard_Model"><span class="tocnumber">4.2.2</span> <span class="toctext">键盘模型 Keyboard Model</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#.E6.98.BE.E7.A4.BA.E5.B0.BA.E5.AF.B8_Display_Size.2FDPI"><span class="tocnumber">4.3</span> <span class="toctext">显示尺寸 Display Size/DPI</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#.E5.AE.98.E6.96.B9.E9.A9.B1.E5.8A.A8"><span class="tocnumber">4.4</span> <span class="toctext">官方驱动</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#.E5.AD.97.E4.BD.93"><span class="tocnumber">4.5</span> <span class="toctext">字体</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Xorg.conf_.E6.96.87.E4.BB.B6.E6.A0.B7.E4.BE.8B"><span class="tocnumber">4.6</span> <span class="toctext">Xorg.conf 文件样例</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#.E6.B5.8B.E8.AF.95Xorg.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6"><span class="tocnumber">5</span> <span class="toctext">测试Xorg配置文件</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#X_.E5.90.AF.E5.8A.A8_.28.2Fusr.2Fbin.2Fstartx.29_.E5.B0.8F.E7.AA.8D.E9.97.A8"><span class="tocnumber">6</span> <span class="toctext">X 启动 (/usr/bin/startx) 小窍门</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#.E6.A8.A1.E5.9D.97.E5.8C.96Xorg.E7.9A.84.E5.8F.98.E5.8C.96"><span class="tocnumber">7</span> <span class="toctext">模块化Xorg的变化</span></a>
<ul>
<li class="toclevel-2 tocsection-26"><a href="#.E9.80.9A.E7.94.A8.E5.8C.85"><span class="tocnumber">7.1</span> <span class="toctext">通用包</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#OpenGL_3D_.E5.8A.A0.E9.80.9F"><span class="tocnumber">7.2</span> <span class="toctext">OpenGL 3D 加速</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Glxgears_.E5.92.8C_Glxinfo"><span class="tocnumber">7.3</span> <span class="toctext">Glxgears 和 Glxinfo</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#.E6.94.B9.E5.8F.98.E7.9A.84.E8.B7.AF.E5.BE.84.EF.BC.88.E5.8F.8A.E7.9B.B8.E5.85.B3.E9.85.8D.E7.BD.AE.EF.BC.89"><span class="tocnumber">7.4</span> <span class="toctext">改变的路径（及相关配置）</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-30"><a href="#.E6.95.85.E9.9A.9C.E5.92.8C.E4.BF.AE.E5.A4.8D"><span class="tocnumber">8</span> <span class="toctext">故障和修复</span></a>
<ul>
<li class="toclevel-2 tocsection-31"><a href="#startx.EF.BC.8C.E6.97.A0.E5.8F.8D.E5.BA.94.2F.E7.A9.BA.E5.B1.8F"><span class="tocnumber">8.1</span> <span class="toctext">startx，无反应/空屏</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Xorg.E7.9A.84.E5.B8.B8.E8.A7.81.E7.94.A8.E6.88.B7.E9.97.AE.E9.A2.98"><span class="tocnumber">8.2</span> <span class="toctext">Xorg的常见用户问题</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Xorg.E6.97.A0.E6.B3.95.E6.89.BE.E5.88.B0.E4.BD.A0.E7.9A.84.E6.98.BE.E7.A4.BA.E5.99.A8.E6.94.AF.E6.8C.81.E5.93.AA.E4.BA.9B.E5.88.86.E8.BE.A8.E7.8E.87"><span class="tocnumber">8.3</span> <span class="toctext">Xorg无法找到你的显示器支持哪些分辨率</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Apple_.E7.9A.84.E9.94.AE.E7.9B.98.E9.97.AE.E9.A2.98.EF.BC.9F"><span class="tocnumber">8.4</span> <span class="toctext">Apple 的键盘问题？</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#.E5.BF.AB.E9.80.9F.E4.BF.AE.E5.A4.8D_Bitstream-Vera_.E5.86.B2.E7.AA.81"><span class="tocnumber">8.5</span> <span class="toctext">快速修复 Bitstream-Vera 冲突</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#.E5.BF.AB.E9.80.9F.E4.BF.AE.E5.A4.8D.E5.9C.A8_.2Fusr.2Finclude_.E4.B8.AD.E7.9A.84.E6.96.87.E4.BB.B6.E5.86.B2.E7.AA.81"><span class="tocnumber">8.6</span> <span class="toctext">快速修复在 /usr/include 中的文件冲突</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#libgl-dri_.E5.86.B2.E7.AA.81"><span class="tocnumber">8.7</span> <span class="toctext">libgl-dri 冲突</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#.E9.BC.A0.E6.A0.87.E6.BB.9A.E8.BD.AE.E4.B8.8D.E5.B7.A5.E4.BD.9C"><span class="tocnumber">8.8</span> <span class="toctext">鼠标滚轮不工作</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Touchpad_mouse_taps_not_working"><span class="tocnumber">8.9</span> <span class="toctext">Touchpad mouse taps not working</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#.E9.A2.9D.E5.A4.96.E7.9A.84.E9.BC.A0.E6.A0.87.E6.8C.89.E9.94.AE.E4.B8.8D.E5.B7.A5.E4.BD.9C"><span class="tocnumber">8.10</span> <span class="toctext">额外的鼠标按键不工作</span></a></li>
<li class="toclevel-2 tocsection-41"><a href="#.E9.94.AE.E7.9B.98.E9.97.AE.E9.A2.98"><span class="tocnumber">8.11</span> <span class="toctext">键盘问题</span></a>
<ul>
<li class="toclevel-3 tocsection-42"><a href="#.E5.88.87.E6.8D.A2.E5.88.B0.E6.8E.A7.E5.88.B6.E5.8F.B01.E7.9A.84.E9.97.AE.E9.A2.98"><span class="tocnumber">8.11.1</span> <span class="toctext">切换到控制台1的问题</span></a></li>
<li class="toclevel-3 tocsection-43"><a href="#AltGR_.28Compose_Key.29.E4.B8.8D.E8.83.BD.E6.AD.A3.E5.B8.B8.E5.B7.A5.E4.BD.9C"><span class="tocnumber">8.11.2</span> <span class="toctext">AltGR (Compose Key)不能正常工作</span></a></li>
<li class="toclevel-3 tocsection-44"><a href="#Cannot_set_qwerty_layouts_using_the_setxkbmap_command"><span class="tocnumber">8.11.3</span> <span class="toctext">Cannot set qwerty layouts using the setxkbmap command</span></a></li>
<li class="toclevel-3 tocsection-45"><a href="#Setup_French_Canadian_.28old_ca_enhanced.29_layout"><span class="tocnumber">8.11.4</span> <span class="toctext">Setup French Canadian (old ca_enhanced) layout</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-46"><a href="#.E7.BC.BA.E5.B0.91.E5.BA.93.E6.96.87.E4.BB.B6"><span class="tocnumber">8.12</span> <span class="toctext">缺少库文件</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#.E6.97.A0.E6.B3.95.E5.88.9B.E5.BB.BA.E6.9F.90.E4.BA.9B.E5.8C.85.EF.BC.8C.E6.8F.90.E7.A4.BA.22.E7.BC.BA.E5.B0.91X11.E5.A4.B4.E6.96.87.E4.BB.B6.22"><span class="tocnumber">8.13</span> <span class="toctext">无法创建某些包，提示"缺少X11头文件"</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#.E6.97.A0.E6.B3.95.E5.8A.A0.E8.BD.BD.27.28null.29.27.E5.AD.97.E4.BD.93"><span class="tocnumber">8.14</span> <span class="toctext">无法加载'(null)'字体</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#.E5.8D.87.E7.BA.A7.E5.88.B0xorg-server_1.5.E5.90.8E.EF.BC.8CKDE4.E4.BB.BB.E5.8A.A1.E6.A0.8F.E5.92.8C.E6.A1.8C.E9.9D.A2.E5.9B.BE.E6.A0.87.E5.87.BA.E9.94.99"><span class="tocnumber">8.15</span> <span class="toctext">升级到xorg-server 1.5后，KDE4任务栏和桌面图标出错</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#.E4.BB.8Etesting.E5.8D.87.E7.BA.A7.E5.88.B0current.E6.97.B6.E2.80.9C.E6.96.87.E4.BB.B6.E4.B8.A2.E5.A4.B1.E2.80.9D"><span class="tocnumber">8.16</span> <span class="toctext">从testing升级到current时“文件丢失”</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#.E4.B8.8D.E5.90.8C.E6.A1.8C.E9.9D.A2.E7.8E.AF.E5.A2.83.E4.B8.8BMIME.E7.9A.84.E7.B1.BB.E5.9E.8B.E9.97.AE.E9.A2.98"><span class="tocnumber">8.17</span> <span class="toctext">不同桌面环境下MIME的类型问题</span></a></li>
<li class="toclevel-2 tocsection-52"><a href="#Matrox.E6.98.BE.E5.8D.A1.E7.9A.84DRI.E5.8A.9F.E8.83.BD.E5.A4.B1.E6.95.88"><span class="tocnumber">8.18</span> <span class="toctext">Matrox显卡的DRI功能失效</span></a></li>
<li class="toclevel-2 tocsection-53"><a href="#Xephyr.E4.B8.8B.E6.97.A0.E6.B3.95.E5.90.AF.E5.8A.A8.E4.BB.BB.E4.BD.95.E5.AE.A2.E6.88.B7.E7.AB.AF"><span class="tocnumber">8.19</span> <span class="toctext">Xephyr下无法启动任何客户端</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#.E6.97.A0.E6.B3.95.E7.94.A8.22su.22.E4.BB.A5root.E8.BA.AB.E4.BB.BD.E5.90.AF.E5.8A.A8X.E5.AE.A2.E6.88.B7.E7.AB.AF"><span class="tocnumber">8.20</span> <span class="toctext">无法用"su"以root身份启动X客户端</span></a></li>
<li class="toclevel-2 tocsection-55"><a href="#.E6.97.A0.E6.B3.95.E8.BF.90.E8.A1.8C.E5.9C.A8frambuffer.E6.A8.A1.E5.BC.8F.E4.B8.8B"><span class="tocnumber">8.21</span> <span class="toctext">无法运行在frambuffer模式下</span></a></li>
<li class="toclevel-2 tocsection-56"><a href="#Ctrl-Alt-Backspace.E6.97.A0.E6.B3.95.E9.80.80.E5.87.BAX"><span class="tocnumber">8.22</span> <span class="toctext">Ctrl-Alt-Backspace无法退出X</span></a>
<ul>
<li class="toclevel-3 tocsection-57"><a href="#.E4.BF.AE.E6.94.B9.2Fetc.2FX11.2Fxorg.conf"><span class="tocnumber">8.22.1</span> <span class="toctext">修改/etc/X11/xorg.conf</span></a></li>
<li class="toclevel-3 tocsection-58"><a href="#.E5.A6.82.E6.9E.9C.E4.BD.A0.E4.BD.BF.E7.94.A8input_hotplugging"><span class="tocnumber">8.22.2</span> <span class="toctext">如果你使用input hotplugging</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-59"><a href="#.E5.9C.A8.E5.87.BA.E7.8E.B0GUI.E7.99.BB.E5.BD.95.E7.95.8C.E9.9D.A2.E4.B9.8B.E5.89.8D.EF.BC.8C.E4.B8.8D.E5.90.AF.E5.8A.A8Xorg"><span class="tocnumber">8.23</span> <span class="toctext">在出现GUI登录界面之前，不启动Xorg</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-60"><a href="#.E7.9B.B8.E5.85.B3.E9.93.BE.E6.8E.A5"><span class="tocnumber">9</span> <span class="toctext">相关链接</span></a></li>
</ul>
</td></tr></tbody></table><script>if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<h2> <span class="mw-headline" id=".E4.BB.8B.E7.BB.8D"> 介绍 </span></h2>
<p><b>Xorg</b> 是X11 图基窥镜系统的一个开源实现。(查看 <a href="http://en.wikipedia.org/wiki/X.Org_Server" class="external text" rel="nofollow">X.org Wikipedia Article</a> 或 <a href="http://wiki.x.org/wiki/" class="external text" rel="nofollow">X.org</a> for details.) 一般地，如果你想在Arch上使用图形交互界面，需要用到xorg（也可以是wayland——但还不成熟）.
</p>
<h2> <span class="mw-headline" id=".E5.AE.89.E8.A3.85_Xorg">安装 Xorg</span></h2>
<p>开始之前，确定你做了一下事情:
</p>
<ol><li>确保 <a href="https://wiki.archlinux.org/index.php/Pacman" title="Pacman">pacman</a> 已经配置和更新.
</li><li>记录下第三方驱动 (如 nVidia 或 ATI 驱动). 
</li></ol>
<p>首先让我们安装完整的'xorg'软件包组:
</p>
<pre># pacman -S xorg
</pre>
<p>缺省的vesa显示驱动虽然兼容绝大部分芯片组，但它仅仅是一个后备方案（没有加速并且很多分辨率不支持），因此可以的话你还是需要一个合适的驱动。你可以打入以下命令获取显示驱动列表：
</p>
<pre># pacman -Ss xf86-video
</pre>
<p>找到合适你显卡的驱动后，用<span style="font-family: monospace; color: #000055; white-space: nowrap">pacman -S</span>命令安装。
</p><p>想要知道你的显卡类型，可以安装hwd (<span style="font-family: monospace; color: #000055; white-space: nowrap">pacman -S hwdetect</span>)或community/lshw:
</p>
<pre>$ hwd -s
</pre>
<p>或者：
</p>
<pre>$lshw -short
</pre>
<p>或者：
</p>
<pre>$ lspci | grep "VGA"
</pre>
<h2> <span class="mw-headline" id=".E9.85.8D.E7.BD.AExorg"> 配置xorg </span></h2>
<p>在运行xorg以前，你需要对它进行配置，使得它识别你的图形卡、显示器、鼠标和键盘。有几种方法可以自动进行配置：
</p>
<h3> <span class="mw-headline" id=".E6.97.A0.E9.9C.80xorg.conf">无需xorg.conf</span></h3>
<p>从1.8版起,Xorg server已经不需要通过hal进行硬件访问,udev能够很好的完成硬件检测工作.xorg不再依赖hal,而且使用<span style="font-family: monospace; color: #005500; white-space: nowrap">xorg.conf</span>文件成为一个可选方案。一开始不使用<span style="font-family: monospace; color: #005500; white-space: nowrap">xorg.conf</span>，然后只是增加些必须的部分，这样做可能更好。
启动X：
</p>
<pre>$ startx
</pre>
<p>或者
</p>
<pre>$ xinit
</pre>
<p>如果<b>X</b>可以正常启动，而你需要一个基本的<span style="font-family: monospace; color: #005500; white-space: nowrap">xorg.conf</span>文件，那么就可以<a href="#.E6.A0.B9.E6.8D.AEXorg.0.log.E6.96.87.E4.BB.B6.E4.B8.AD.E5.88.9B.E5.BB.BA">根据Xorg.0.log文件中创建</a>它。
</p><p>如果没有检测到闭源驱动如nvidia，可以加入一个最小的<span style="font-family: monospace; color: #005500; white-space: nowrap">xorg.conf</span>，就像下面这样：
</p>
<pre>Section "ServerLayout"
   Identifier     "Layout0"
   Screen      0  "Screen0" 0 0
EndSection

Section "Files"
   FontPath "/usr/share/fonts/local/"
EndSection

Section "Device"
   Identifier     "Device0"
   Driver         "nvidia"
   VendorName     "NVIDIA Corporation"
   BoardName      "GeForce Go 7300"
EndSection

Section "Screen"
   Identifier     "Screen0"
   Device         "Device0"
EndSection
</pre>
<h4> <span class="mw-headline" id=".E4.B8.8D.E4.BD.BF.E7.94.A8xorg.conf.E9.85.8D.E7.BD.AEnon-us.E9.94.AE.E7.9B.98">不使用xorg.conf配置non-us键盘</span></h4>
<pre># cp /usr/share/hal/fdi/policy/10osvendor/10-keymap.fdi /etc/hal/fdi/policy/
</pre>
<p>然后打开<span style="font-family: monospace; color: #005500; white-space: nowrap">/etc/hal/fdi/policy/10-keymap.fdi</span>，编辑 <code>input.xkb.layout</code>中的"us"成为你所希望的键盘布局，如果有必要，可以一同修改<code>input.xkb.variant</code>.
</p><p>在X里执行命令
</p>
<pre># setxkbmap pl 
</pre>
<p>（用你自己的键盘布局而不是pl）可以切换你的键盘布局。
想要永久生效，你可以采用将此命令加入到<span style="font-family: monospace; color: #005500; white-space: nowrap">~/.xinitrc</span>文件中（在启动窗口管理器之前）等方式。
</p>
<h3> <span class="mw-headline" id="hwd">hwd</span></h3>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBFF"><strong> Note: </strong> 注意：hwd目前已经升级（5.5版）并能工作于xorg-server-1.5.x和1.6.x。 目前，它会禁用基于HAL的输入设备的热插拔功能，取而代之的是产生一个包含输入设备的传统xorg.conf文件。</div>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBFF"><strong> Note: </strong> hwd已经从[community]官方仓库中移动到AUR。</div>
<p>或许简单快捷配置好Xorg的方法就是使用hwd，一个由Arch linux社区用户所写的工具。它主要是一个硬件探测工具，当然还有其他功能。其中一项就是设置X server，幸运的是，hwd 比<code>xorgconf</code> 更加简明，根本不需要任何输入。
</p><p>首先，你需要安装<a href="http://aur.archlinux.org/packages.php?ID=26913" class="external text" rel="nofollow">AUR中的hwd软件包</a>.
</p><p>现在只需要以roor权限运行下面的命令，便可生成一个缺省的<code>xorg.conf</code>文件：
</p>
<pre># hwd -xa
</pre>
<p>这将用hwd检测到的硬件生成一些配置，覆盖掉已有的/etc/X11/xorg.conf文件，原有的xorg.conf文件将被重命名为xorg.conf.bak。
</p><p>另外一种做法是, 你可以生成一个范例Xorg文件（/etc/X11/xorg.conf.hwd）而不覆盖你已有的设置。 使用<b>-x</b>参数来运行<tt>hwd</tt>：
</p>
<pre># hwd -x
</pre>
<p>结果范例：
</p>
<pre>/etc/X11/xorg.conf.ati
/etc/X11/xorg.conf.vesa

</pre>
<p>有了范例文件，把它们之一重命名为'xorg.conf'。如果不确定，可以先尝试'vesa'（缺省）。
</p><p>要使用这些范例文件，你得手动将它更名，例如：
</p>
<pre># mv xorg.conf.hwd xorg.conf
</pre>
<p>注意，以我的经验hwd生成的XF86Config-4文件，如果当前没有xorg.conf的话，Xorg就会自动使用它。
</p>
<h3> <span class="mw-headline" id="Xorg_-configure">Xorg -configure</span></h3>
<p>你也可以使用
</p>
<pre># Xorg -configure
</pre>
<p>或者
</p>
<pre># X -configure
</pre>
<p>以下命令在当前目录下自动生成缺省的xorg.conf.new文件。
</p>
<pre># X -config ./xorg.conf.new
</pre>
<p>你可以将它复制为<span style="font-family: monospace; color: #005500; white-space: nowrap">/etc/X11/xorg.conf</span>。
</p>
<h3> <span class="mw-headline" id="nvidia-xconfig"> nvidia-xconfig </span></h3>
<p>nVidia 用户也可以使用
</p>
<pre># nvidia-xconfig
</pre>
<p>用户要安装 nvidia 官方驱动<a href="https://wiki.archlinux.org/index.php/NVIDIA" title="NVIDIA">installed</a>.
</p><p>在<span style="font-family: monospace; color: #000055; white-space: nowrap">Module</span>段注释掉这行
</p>
<pre> Load           "type1"
</pre>
<p>这是因为新版本的xorg-server已经不含type1字体模块了（已被freetype完全替代）。
</p>
<h3> <span class="mw-headline" id=".E6.A0.B9.E6.8D.AEXorg.0.log.E6.96.87.E4.BB.B6.E4.B8.AD.E5.88.9B.E5.BB.BA">根据Xorg.0.log文件中创建</span></h3>
<p>如果你可以不使用xorg.conf文件成功启动x，那么就可以在<span style="font-family: monospace; color: #005500; white-space: nowrap">/var/log/Xorg.0.log</span>中找到缺省的xorg配置。只要复制下面两行
</p>
<pre>(==) --- Start of built-in configuration ---
</pre>
<p>和
</p>
<pre>(==) --- End of built-in configuration ---
</pre>
<p>之间的文本到你新建的xorg.conf中就可以了。
</p>
<h2> <span class="mw-headline" id=".E7.BC.96.E8.BE.91_xorg.conf">编辑 xorg.conf</span></h2>
<p>在xorg.conf生成后，你可能想要修改它. 打开你最心爱的文本编辑器, 如 Vim (你需要 root 权限):
</p>
<pre>vim /etc/X11/xorg.conf
</pre>
<p>如果你想要设置鼠标滚轮, 请看 <a href="https://wiki.archlinux.org/index.php/Get_All_Mouse_Buttons_Working" title="Get All Mouse Buttons Working">Get All Mouse Buttons Working</a>.
</p>
<h3> <span class="mw-headline" id=".E6.98.BE.E7.A4.BA.E5.99.A8.E8.AE.BE.E7.BD.AE">显示器设置</span></h3>
<p>依赖于你的硬件, Xorg 可能无法正确探测显示器参数, 又或者你只想使用显示器性能之外的低分辨率。在设置以下参数前，你可能要查看以下显示器的手册。
以下设置在Monitor section中指定:
</p>
<h4> <span class="mw-headline" id=".E6.B0.B4.E5.B9.B3.E5.90.8C.E6.AD.A5">水平同步</span></h4>
<pre>HorizSync 28-64
</pre>
<h4> <span class="mw-headline" id=".E5.88.B7.E6.96.B0.E7.8E.87">刷新率</span></h4>
<pre>VertRefresh 60
</pre>
<p>以下设置在Screen section中指定:
</p>
<h4> <span class="mw-headline" id=".E8.89.B2.E6.B7.B1">色深</span></h4>
<pre>Depth 24
</pre>
<h4> <span class="mw-headline" id=".E5.88.86.E8.BE.A8.E7.8E.87">分辨率</span></h4>
<pre>Modes "1280x1024" "1024x768" "800x600"
</pre>
<h3> <span class="mw-headline" id=".E9.94.AE.E7.9B.98.E8.AE.BE.E7.BD.AE"> 键盘设置 </span></h3>
<p>Xorg 可能会探测键盘失败，这可能是没有正确设置键盘布局(keyboard layout)和键盘模型(keyboard model)。
</p><p>想看keyboard models, layouts, variants and options的完整的列表, 请打开.
</p><p><br>
</p>
<pre>/usr/share/X11/xkb/rules/xorg.lst
</pre>
<h4> <span class="mw-headline" id=".E9.94.AE.E7.9B.98.E5.B8.83.E5.B1.80_Keyboard_Layout"> 键盘布局 Keyboard Layout </span></h4>
<p>在keyboard InputDevice section中使用XkbLayout选项来改变键盘布局。如果你有一个英文布局的键盘，如下所示:
</p>
<pre>Option "XkbLayout" "gb"
</pre>
<h4> <span class="mw-headline" id=".E9.94.AE.E7.9B.98.E6.A8.A1.E5.9E.8B_Keyboard_Model"> 键盘模型 Keyboard Model </span></h4>
<p>在keyboard InputDevice section中使用XkbModel选项来改变键盘模型。如果你有一个M$的无线多媒体键盘，如下所示:
</p>
<pre>Option "XkbModel" "microsoftmult"
</pre>
<h3> <span class="mw-headline" id=".E6.98.BE.E7.A4.BA.E5.B0.BA.E5.AF.B8_Display_Size.2FDPI">显示尺寸 Display Size/DPI</span></h3>
<p>为得到正确的字体大小，显示尺寸必须设置为你所需要的DPI.在<code>"Monitor"</code>段中以毫米(mm)为单位设置显示大小:
</p>
<pre>Section "Monitor"
   ...
 DisplaySize 336 252 # 96 DPI @ 1280x960
   ...
EndSection
</pre>
<p><br>
计算显示尺寸值的公式是 宽 x 25.4 / DPI 和 高 x 25.4 / DPI. 如果你的xorg的分辨率是 1024x768 
，想要96的DPI, 使用 1024 x 25.4 / 96 和 768 x 25.4 / 96. Round numbers down.
</p>
<pre># calc: (x|y)pixels * 25.4 / dpi
# DisplaySize 168 126 # 96 DPI @ 640x480
# DisplaySize 210 157 # 96 DPI @ 800x600
# DisplaySize 269 201 # 96 DPI @ 1024x768
# DisplaySize 302 227 # 96 DPI @ 1152x864
# DisplaySize 336 252 # 96 DPI @ 1280x960
# DisplaySize 336 269 # 96 DPI @ 1280x1024 (non 4:3 aspect)
# DisplaySize 370 277 # 96 DPI @ 1400x1050
# DisplaySize 420 315 # 96 DPI @ 1600x1200
# DisplaySize 506 315 # 96 DPI @ 1920x1200
</pre>
<p><br>
对 nVidia 的驱动来说， 你要手动设置而不是自动设置DPI. 在这些显卡上设置DPI不难. 下面两行或者任意一行可以加在device段中即可。
</p>
<pre>  Option   "UseEdidDpi" "false"
  Option   "DPI" "96 x 96"
</pre>
<p><br>
执行以下命令可以检查结果, 如果你设置DPI为96,那么会返回96x96 per dots.
</p>
<pre>xdpyinfo | grep -B1 dot
</pre>
<h3> <span class="mw-headline" id=".E5.AE.98.E6.96.B9.E9.A9.B1.E5.8A.A8">官方驱动</span></h3>
<p>首先检查X server是否运行OK. 在没有官方驱动下，Xorg也能平稳运行。官方驱动只是提供更高级的特性，如3D加速渲染，双屏设置，TV-out。 nVidia驱动查看 <a href="https://wiki.archlinux.org/index.php/NVIDIA" title="NVIDIA">NVIDIA</a>;ATI驱动查看<a href="https://wiki.archlinux.org/index.php/ATI" title="ATI">ATI</a>。
</p>
<h3> <span class="mw-headline" id=".E5.AD.97.E4.BD.93">字体</span></h3>
<p>在<a href="https://wiki.archlinux.org/index.php/Font_Configuration_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" title="Font Configuration (简体中文)">X字体配置</a>有设置字体的贴士.
</p>
<h3> <span class="mw-headline" id="Xorg.conf_.E6.96.87.E4.BB.B6.E6.A0.B7.E4.BE.8B"> Xorg.conf 文件样例 </span></h3>
<p>如果谁有可以运行的xorg.conf文件, 可以提供一个链接让其他人也能看到! 请不要贴上整个文件; 上传到其他地方并建立一个链接，谢谢!
</p>
<ul><li> Shadowhand (nv and nvidia drivers): <a href="http://people.os-zen.net/shadowhand/configs/xorg.conf" class="external free" rel="nofollow">http://people.os-zen.net/shadowhand/configs/xorg.conf</a>
</li><li> Cerebral (fglrx and radeon drivers): <a href="http://www.student.cs.uwaterloo.ca/%7Etjwillar/configs/xorg.conf" class="external free" rel="nofollow">http://www.student.cs.uwaterloo.ca/~tjwillar/configs/xorg.conf</a>
</li><li> raskolnikov (via unichrome and synaptics drivers): <a href="http://athanatos.free.fr/Arch/xorg.conf" class="external free" rel="nofollow">http://athanatos.free.fr/Arch/xorg.conf</a>
</li><li> Leigh (Three independent screens - Three nvidia cards): <a href="http://files.myopera.com/allisonleigh/linuxbackup/xorg.conf" class="external free" rel="nofollow">http://files.myopera.com/allisonleigh/linuxbackup/xorg.conf</a>
</li></ul>
<h2> <span class="mw-headline" id=".E6.B5.8B.E8.AF.95Xorg.E9.85.8D.E7.BD.AE.E6.96.87.E4.BB.B6">测试Xorg配置文件</span></h2>
<p>键入以下命令:
</p>
<pre>startx
</pre>
<p>默认的X环境很简单, 一般要安装窗口管理器或者桌面环境。
</p><p>为测试x配置文件，你可以:
</p>
<pre>X -config <i>&lt;your config file&gt;</i>
</pre>
<p>如果出现问题, 可以查看日志 <tt>/var/log/Xorg.0.log</tt>。 请注意以 <i>(EE)</i> 开头的行，它会指出错误，也注意以<i>(WW)</i>开头的行，它会指出其他问题。
</p><p><b>*请注意*</b>
使用 startx 需要<i>~/.xinitrc</i> 文件,  这样 X 才能知道它在启动时要运行什么。最好的选择是拷贝 <i>/etc/skel/.xinitrc</i>文件到你的用户目录下并做些修改。注释掉你不需要的'exec'行， 增加或者释放你所需要的内容。如果你使用 GNOME，为防止HAL的许可问题，最好通过gdm来启动GNOME。
</p><p>另外，你也可以安装 twm 和 xterm (通过 pacman)，如果 /.xinitrc 不存在，它可以作为一个替补 (以/etc/X11/xinit/xinitrc启动).
</p>
<h2> <span class="mw-headline" id="X_.E5.90.AF.E5.8A.A8_.28.2Fusr.2Fbin.2Fstartx.29_.E5.B0.8F.E7.AA.8D.E9.97.A8">X 启动 (/usr/bin/startx) 小窍门</span></h2>
<p>参看X的选项：
</p>
<pre>man Xserver
</pre>
<p>以下的选项可以附加在/usr/bin/startx文件的"defaultserverargs"变量中.
</p><p>阻止 X 侦听tcp:
</p>
<pre>-nolisten tcp
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBFF"><strong> Note: </strong> 现在已是<span style="font-family: monospace; color: #005500; white-space: nowrap">/etc/X11/xinit/xserverrc</span>中的缺省设置。</div>
<p>在x启动时，取消灰色波纹图案，让x设置一个黑色根窗口(black root window):<br>
</p>
<pre>-br
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBFF"><strong> Note: </strong> 新版Xorg已不需要。</div>
<p>为16位字体使能延缓字形加载：
</p>
<pre>-deferglyphs 16
</pre>
<p>注意: 如果你用kdm启动x, 则不会执行startx脚本。上述这些选项必须加在<span style="font-family: monospace; color: #005500; white-space: nowrap">/usr/share/config/kdm/kdmrc</span>文件的<span style="font-family: monospace; color: #000055; white-space: nowrap">"ServerArgsLocal"</span>或者<span style="font-family: monospace; color: #000055; white-space: nowrap">"ServerCmd"</span>变量中. 缺省kdm的选项是
</p>
<pre>  ServerArgsLocal=-nolisten tcp
  ServerCmd=/usr/bin/X
</pre>
<h2> <span class="mw-headline" id=".E6.A8.A1.E5.9D.97.E5.8C.96Xorg.E7.9A.84.E5.8F.98.E5.8C.96"> 模块化Xorg的变化 </span></h2>
<h3> <span class="mw-headline" id=".E9.80.9A.E7.94.A8.E5.8C.85"> 通用包 </span></h3>
<p>请确认你已经安装了键盘、鼠标、显卡的驱动。鼠标和键盘驱动分别为<b>xf86-input-keyboard</b> 和 <b>xf86-input-mouse</b> 。其它类似 <b>xf86-input-*</b> 的包是其它输入设备的驱动。
</p><p>对于显卡，在<b>xf86-video-*</b>中查找符合的驱动然后安装即可；ATI和Nvidia显卡需要安装非自由驱动(<a href="https://wiki.archlinux.org/index.php/NVIDIA" title="NVIDIA">NVIDIA</a>, <a href="https://wiki.archlinux.org/index.php/ATI" title="ATI">ATI</a>)。安装完毕后需要在xorg.conf中显卡定义段指定相应的驱动。
</p><p>要一次安装所有驱动, 可以用 <b>xorg-input-drivers</b> 和 <b>xorg-video-drivers</b>。
</p>
<h3> <span class="mw-headline" id="OpenGL_3D_.E5.8A.A0.E9.80.9F"> OpenGL 3D 加速 </span></h3>
<p>在Arch Linux上，Xorg 7.0 使用组件来支持 mesa, 一个 OpenGL 渲染系统. 以下是可用的一些实现:
</p>
<ul><li> libgl-dri: 开源的 DRI OpenGL 实现。 如果DRI驱动没有安装，会回退到使用软件渲染。
</li><li> 其他驱动提供libGL (ati, nvidia)
</li></ul>
<p>当pacman安装一个需要mesa的程序时，它会自动安装这些软件包中的一个。请确保设置正确的库，在安装Xorg之前安装你想要的库。在安装完Xorg之后再安装正确的库也是可以的，但是这有可能带来一些依赖方面的错误，通过"-d"选项可以忽略这个错误。
</p>
<h3> <span class="mw-headline" id="Glxgears_.E5.92.8C_Glxinfo"> Glxgears 和 Glxinfo </span></h3>
<p>这些程序在mesa包中.
</p>
<h3> <span class="mw-headline" id=".E6.94.B9.E5.8F.98.E7.9A.84.E8.B7.AF.E5.BE.84.EF.BC.88.E5.8F.8A.E7.9B.B8.E5.85.B3.E9.85.8D.E7.BD.AE.EF.BC.89"> 改变的路径（及相关配置） </span></h3>
<p><b>在这里可以看到其它一些更新信息</b> <a href="http://www.archlinux.org/blog/2006/01/02/how-to-upgrade-xorg/" class="external free" rel="nofollow">http://www.archlinux.org/blog/2006/01/02/how-to-upgrade-xorg/</a>
</p><p>模块化X.org 7的所有文件都安装在<code>/usr</code>下面，以前老的版本是安装在<code>/usr/X11R6</code>。相应地，一些配置文件也需要更新：
</p>
<ul><li> <i>/etc/X11/xorg.conf</i>
<ul><li> 字体路径现在位于/usr/share/fonts
</li><li> RGB数据库位于/usr/share/X11/rgb
</li><li> 模块路径为/usr/lib/xorg/modules
</li></ul>
</li></ul>
<p>还要注意一些X配置工具可能无法工作。现在配置X.org最简单的办法是：安装正确的驱动包，然后运行<i>Xorg -configure</i>，这会产生一个配置文件<code>/root/xorg.conf.new</code>，你只需要在此基础上修改一下分辨率、鼠标配置、键盘布局即可。
</p><p>一些软件包含有涉及<code>/usr/X11R6</code>的硬编码，这些包需要进行修改。在修改完成前的这段时间内，检查一下安装在<code>/usr/X11R6</code>下面的文件，将它们卸载掉，然后创建一个从<code>/usr</code> 到 <code>/usr/X11R6</code>的链接，再重新安装相关软件包。另外一个选择是将<code>/usr/X11R6</code> 下的内容移动到 <code>/usr</code>下面，再创建一个链接即可。
</p><p>或者你也可以在xorg.conf中加入另一个模块路径
</p>
<pre>ModulePath   "/usr/X11R6/lib/modules"
</pre>
<p>这种方法对Nvidia 76.76有效。
</p>
<h2> <span class="mw-headline" id=".E6.95.85.E9.9A.9C.E5.92.8C.E4.BF.AE.E5.A4.8D"> 故障和修复 </span></h2>
<h3> <span class="mw-headline" id="startx.EF.BC.8C.E6.97.A0.E5.8F.8D.E5.BA.94.2F.E7.A9.BA.E5.B1.8F">startx，无反应/空屏</span></h3>
<p>检查你的用户是否属于hal和dbus用户组。如果不是，则键入以下命令
</p>
<pre># gpasswd -a user hal
# gpasswd -a user dbus 
</pre>
<p>然后再startx。
</p>
<h3> <span class="mw-headline" id="Xorg.E7.9A.84.E5.B8.B8.E8.A7.81.E7.94.A8.E6.88.B7.E9.97.AE.E9.A2.98">Xorg的常见用户问题</span></h3>
<p>如果你在使用xorg中遇到问题，无法启动或者黑屏，鼠标键盘不能正常工作，那么先进行以下步骤：
</p><p>- 我有没有运行任何Xorg配置脚本？ ( xorg -Configure )
</p><p>- 我有没有查看log日志文件？ ( /var/log/Xorg.0.log )如果你使用IRC，可以将日志粘帖求助。
</p>
<pre>pacman -S wgetpaste &amp;&amp; wgetpaste /var/log/Xorg.0.log
</pre>
<p>- 我有没有启动hal？
- 键盘鼠标不能动？需要安装驱动：
</p>
<pre>pacman -S xf86-input-{mouse,keyboard}
</pre>
<p>- ATI显卡令我头疼！
查看<a href="http://wiki.archlinux.org/index.php/ATI" class="external text" rel="nofollow">ATI</a> wiki，ATI的驱动实在不行，所以如果你打算买台新电脑那么就要好好考虑一下显卡的选择了。
</p>
<h3> <span class="mw-headline" id="Xorg.E6.97.A0.E6.B3.95.E6.89.BE.E5.88.B0.E4.BD.A0.E7.9A.84.E6.98.BE.E7.A4.BA.E5.99.A8.E6.94.AF.E6.8C.81.E5.93.AA.E4.BA.9B.E5.88.86.E8.BE.A8.E7.8E.87"> Xorg无法找到你的显示器支持哪些分辨率 </span></h3>
<p>有时会碰到一种情况，比如使用一台显示器(gnr ts902)时，Xorg只提供了640x480和320x480选项，而这不是我们想要的。
</p>
<pre>After a lot of research I found through read-edid (in <a href="https://wiki.archlinux.org/index.php/AUR" title="AUR" class="mw-redirect">AUR</a>) that part of my EDID was corrupt and so I could only read my HorizSync with read-edid. This fortunately was enough and after adding the right HorizSync line to the xorg.conf's Monitor section (I did not have to add VertRefresh) I restarted X to see the right resolution.
</pre>
<p>如下:
</p>
<pre>Option "ModeValidation" "NoEdidModes"
Option   "UseEdid" "false"
</pre>
<p>可能也需要(此步未经测试，不知效果如何).
</p><p>To switch between layouts with Alt+Shift:
</p>
<pre>Option "XkbOptions" "grp:alt_shift_toggle,grp_led:scroll"
</pre>
<h3> <span class="mw-headline" id="Apple_.E7.9A.84.E9.94.AE.E7.9B.98.E9.97.AE.E9.A2.98.EF.BC.9F">Apple 的键盘问题？</span></h3>
<p>可以查看 <a href="https://wiki.archlinux.org/index.php/Apple_Keyboard" title="Apple Keyboard">here</a>.
</p>
<h3> <span class="mw-headline" id=".E5.BF.AB.E9.80.9F.E4.BF.AE.E5.A4.8D_Bitstream-Vera_.E5.86.B2.E7.AA.81">快速修复 Bitstream-Vera 冲突</span></h3>
<p>如果你看到ttf-bitstream-vera与xorg冲突的错误信息，可以通过以下步骤来修复：
</p>
<ol><li>通过回答“no”退出pacman会话
</li><li>执行 <code>pacman -Rd xorg</code>
</li><li>执行 <code>pacman -Syu</code>
</li><li>执行 <code>pacman -S xorg</code>
</li><li>更新/etc/X11/xorg.conf中的路径
</li></ol>
<h3> <span class="mw-headline" id=".E5.BF.AB.E9.80.9F.E4.BF.AE.E5.A4.8D.E5.9C.A8_.2Fusr.2Finclude_.E4.B8.AD.E7.9A.84.E6.96.87.E4.BB.B6.E5.86.B2.E7.AA.81">快速修复在 /usr/include 中的文件冲突</span></h3>
<p>如果你看到/usr/include/X11 和 /usr/include/GL文件冲突的信息，通过以下步骤修复：
</p>
<ol><li>执行 <code>rm /usr/include/{GL,X11}</code>
</li><li>执行 <code>pacman -Su</code>
</li></ol>
<p>删除的两个目录只是链接，在新的xorg包中会用真正的目录内容放在/usr/include/下面，就不会出现文件冲突问题了。
</p>
<h3> <span class="mw-headline" id="libgl-dri_.E5.86.B2.E7.AA.81"> libgl-dri 冲突 </span></h3>
<p>(Note below, that nvidia-legacy has been replaced by nvidia-71xx or nvidia-96xx.  See <a href="https://wiki.archlinux.org/index.php/NVIDIA" title="NVIDIA"> here</a> for further details of which driver to use.)
如果你得到和下面类似的错误信息：
</p>
<pre>:: libgl-dri conflicts with nvidia-legacy. Remove nvidia-legacy? [Y/n]
</pre>
<p>这是由于前面讲述的多重不同OpenGL实现，pacman试图安装libgl-dri来满足这种依赖关系，但还试图更新现有的显卡驱动，结果造成两者冲突。试试下面的步骤也许可以解决这个问题：
</p>
<ul><li> 在更新系统前先更新显卡驱动： 
</li></ul>
<pre>pacman -S nvidia-legacy
pacman -Syu
</pre>
<p>如果这不能解决问题，再试试：
</p>
<ul><li> 卸载现有显卡驱动，然后更新系统，再重新安装显卡驱动：
</li></ul>
<pre>$ pacman -Rd nvidia-legacy
$ pacman -Syu
$ pacman -S nvidia-legacy
</pre>
<p>遇到类似下面的提示时选择“Y”：
</p>
<pre>:: nvidia-legacy conflicts with libgl-dri. Remove libgl-dri?   [Y/n] <b>Y</b>
</pre>
<h3> <span class="mw-headline" id=".E9.BC.A0.E6.A0.87.E6.BB.9A.E8.BD.AE.E4.B8.8D.E5.B7.A5.E4.BD.9C"> 鼠标滚轮不工作 </span></h3>
<p>在Xorg 7中"Auto"协议似乎无法正常工作。找到InputDevice节中与鼠标相关的设置，然后进行更改：
</p>
<pre>Option         "Protocol" "auto"
</pre>
<p>改成
</p>
<pre>Option         "Protocol" "IMPS/2"
</pre>
<p>或者
</p>
<pre>Option         "Protocol" "ExplorerPS/2"
</pre>
<p>If you were using "Auto" to configure your touchpad mouse (and its 
mouse wheel) you will have to start using the "synaptics" driver, 
instead. The mouse wheel will be included on the right-hand area of the 
touchpad, then.
</p><p>In 'Section "Module"' add:
</p>
<pre>Load "synaptics"
</pre>
<p>In 'Section "InputDevice"' add/change:
</p>
<pre>Driver "synaptics"
Protocol "auto-dev"
</pre>
<p>Read man synaptics for more information.
</p>
<h3> <span class="mw-headline" id="Touchpad_mouse_taps_not_working">Touchpad mouse taps not working</span></h3>
<p>Previous versions of Xorg 7 allowed you to use the "Auto" protocol to
 configure your mouse, and tapping was enabled, too. Now you have to 
specify the driver, and explicitly enable tapping.
</p><p>In 'Section "Module"' add:
</p>
<pre>Load "synaptics"
</pre>
<p>In 'Section "InputDevice"' add/change:
</p>
<pre>Driver "synaptics"
Protocol "auto-dev"
Option "TapButton1" "1"
Option "TapButton2" "2"
Option "TapButton3" "3"
</pre>
<p>And read man synaptics.
</p>
<h3> <span class="mw-headline" id=".E9.A2.9D.E5.A4.96.E7.9A.84.E9.BC.A0.E6.A0.87.E6.8C.89.E9.94.AE.E4.B8.8D.E5.B7.A5.E4.BD.9C"> 额外的鼠标按键不工作 </span></h3>
<p>使用USB鼠标的用户请参阅<a href="https://wiki.archlinux.org/index.php/Get_All_Mouse_Buttons_Working" title="Get All Mouse Buttons Working">Get_All_Mouse_Buttons_Working</a>.
</p><p>Intellimouse (ExplorerPS/2)的用户可以发现其鼠标的滚动和侧按钮无法正常工作。原先的xorg.conf需要加入：
</p>
<pre>Option      "Buttons" "7"
Option      "ZAxisMapping" "6 7"
</pre>
<p>同时运行以下命令来让侧按钮正常工作：
</p>
<pre>xmodmap -e "pointer = 1 2 3 6 7 4 5"
</pre>
<p>现在不再需要xmodmap命令了。取而代之，在xorg.conf中加入以下内容即可：
</p>
<pre>Option      "Buttons" "5"
Option      "ZAxisMapping" "4 5"
Option      "ButtonMapping" "1 2 3 6 7"
</pre>
<p>这样7按钮Intellimouse鼠标也可以像以前一样正常工作了。
</p>
<h3> <span class="mw-headline" id=".E9.94.AE.E7.9B.98.E9.97.AE.E9.A2.98"> 键盘问题 </span></h3>
<h4> <span class="mw-headline" id=".E5.88.87.E6.8D.A2.E5.88.B0.E6.8E.A7.E5.88.B6.E5.8F.B01.E7.9A.84.E9.97.AE.E9.A2.98">切换到控制台1的问题</span></h4>
<p>自动生成的xorg.conf文件可能会产生一些问题。如果你无法通过CTRL-ALT-F1切换到tty1，或者GB的用户无法输入符号“£”，请检查一下你的xorg.conf中是否有以下设定，并根据提示进行修改：
</p>
<pre>Option "XkbLayout"  "uk"         #"uk"不是一个真正的键盘布局,在/usr/share/X11/xkb/symbols/下可以查看所有真正的键盘布局。
                                 #如果想使用英国的键盘布局，此处要设为 "gb"
Option "XkbRules"   "xfree86"    #这里应该改成"xorg"
Option "XkbVariant" "nodeadkeys" #这一行会导致上面描述的问题，试着将其注释掉。
</pre>
<p>有些键盘布局已经变了. I wondered why:
</p>
<ul><li> I was not able to Ctrl+Alt+Fx to switch to console
</li><li> I was not able to use layouts
</li></ul>
<p>The problem was that the <i>sk_qwerty</i> layout does not exist anymore. I had to replace
</p>
<pre>Option         "XkbLayout" "us,sk_qwerty"
</pre>
<p>with
</p>
<pre>Option         "XkbLayout" "us,sk"
Option         "XkbVariant" ",qwerty"
</pre>
<p>Another thing to look for if your keyboard is not properly functioning is the XkbRules option:<br>
You will need to change
</p>
<pre>Option         "XkbRules" "xfree86"
</pre>
<p>to
</p>
<pre>Option         "XkbRules" "xorg"
</pre>
<h4> <span class="mw-headline" id="AltGR_.28Compose_Key.29.E4.B8.8D.E8.83.BD.E6.AD.A3.E5.B8.B8.E5.B7.A5.E4.BD.9C">AltGR (Compose Key)不能正常工作</span></h4>
<p>If, after the update, you cannot use the AltGr key as expected any more, try adding this to your keyboard section:
</p>
<pre>Option      "XkbOptions" "compose:ralt"
</pre>
<p>This is not the correct way to activate the AltGr Key on a German 
keyboard (for example, to use the '|' and '@' keys on German keyboards).
Just choose a valid keyboard variant for it to work again, for example 
(the example is for a German keyboard):
</p>
<pre>Option      "XkbLayout" "de"
Option      "XkbVariant" "nodeadkeys"
</pre>
<p>The solutions above do not work on an Italian keyboard. To activate 
the AltGr key on an Italian keyboard make sure you have the following 
lines set up properly:
</p>
<pre> Driver          "kbd"
 Option          "XkbRules"      "xorg"
 Option          "XkbVariant"    ""
</pre>
<p>This might still not be enough for a swedish keyboard. Try the above, but with lv3 instead of compose. (Thank you wyvern!)
That is:
</p>
<pre> Option "XkbLayout" "se"
 Option "XkbVariant" "nodeadkeys"
 Option "XkbOptions" "lv3:ralt_switch"
</pre>
<h4> <span class="mw-headline" id="Cannot_set_qwerty_layouts_using_the_setxkbmap_command">Cannot set qwerty layouts using the setxkbmap command</span></h4>
<p>After the update, there are not qwerty layouts as for example 
sk_qwerty. If you want to switch your present keyboard layout to any 
qwerty keyboard layout use this command:
</p>
<pre>$ setxkbmap NAME_OF_THE_LAYOUT qwerty
</pre>
<p>e.g.: for sk_qwerty use:
</p>
<pre>$ setxkbmap sk qwerty
</pre>
<p>After the update, trying the above command I had this message "Error 
loading new keyboard description". I find out that the xserver does not 
have the rights to write, execute, read in the directory /var/tmp.
</p><p>So, give the permissions to that directory. Restart the xserver 
and you will have your deadkeys back. Afterwards, confirm a layout 
(e.g., <i>it</i> layout):
</p>
<pre>$ setxkbmap -layout it
</pre>
<h4> <span class="mw-headline" id="Setup_French_Canadian_.28old_ca_enhanced.29_layout">Setup French Canadian (old ca_enhanced) layout</span></h4>
<p><b>With disabled hotplugging</b>
</p><p>Since the new Xorg changed the way it deals with keyboards, the 
following method will only work if you disable "hotplugging"&nbsp;: <a href="http://wiki.archlinux.org/index.php/Xorg_input_hotplugging" class="external free" rel="nofollow">http://wiki.archlinux.org/index.php/Xorg_input_hotplugging</a>
</p><p>With Xorg7, "ca_enhanced" is no more.  You have to do a little trick to get the same layout that you are used to:
Switch the old:
</p>
<pre>       Option          "XkbLayout"     "ca_enhanced"
</pre>
<p>To:
</p>
<pre>       Option          "XkbLayout"     "ca"
       Option          "XkbVariant"    "fr"
</pre>
<p>It will be similar with other layout, I presume.  You can refer to Gentoo HowTo there: <a href="http://www.gentoo.org/proj/en/desktop/x/x11/modular-x-howto.xml" class="external free" rel="nofollow">http://www.gentoo.org/proj/en/desktop/x/x11/modular-x-howto.xml</a>
</p><p><br>
<b>Workaround</b>
</p><p>I use a workaround so that I do not have to manually change the 
HAL fdi policies, as this is the new way of dealing with keymaps with 
the new Xorg. I use "setxkbmap"&nbsp;: <a href="http://wiki.archlinux.org/index.php/Xorg_input_hotplugging#Using_setxkbmap" class="external free" rel="nofollow">http://wiki.archlinux.org/index.php/Xorg_input_hotplugging#Using_setxkbmap</a>
</p><p>Change the X keyboard layout to french canadian with this command:
</p>
<pre>#setxkbmap ca -variant fr
</pre>
<p><br>
To make it change automatically, you can try this: 
</p><p>Created the file 
</p>
<pre>~.config/autostart/keymap.desktop
</pre>
<p>and added this to it:
</p>
<pre>[Desktop Entry]
Encoding=UTF-8
Version=0.9.4
Type=Application
Name=Keymap French Canadian
Comment=
Exec=setxkbmap ca -variant fr
StartupNotify=false
Terminal=false
Hidden=false
</pre>
<p>It works at least for XFCE4 and LXDE.
</p>
<h3> <span class="mw-headline" id=".E7.BC.BA.E5.B0.91.E5.BA.93.E6.96.87.E4.BB.B6"> 缺少库文件 </span></h3>
<ul><li> <b>求助！运行程序时显示“libXxxxxx不存在"的错误！</b><br>
</li></ul>
<p>在多数情况下，根据提示的库名称安装相应的库即可：
In most cases, all you need to do is take the name of the library (eg 
libXau.so.1), convert it all to lowercase, remove the extension, and 
pacman for it:
</p>
<pre># pacman -S libxau
</pre>
<p>This will install the library you are missing, and all will be well again!
</p>
<h3> <span class="mw-headline" id=".E6.97.A0.E6.B3.95.E5.88.9B.E5.BB.BA.E6.9F.90.E4.BA.9B.E5.8C.85.EF.BC.8C.E6.8F.90.E7.A4.BA.22.E7.BC.BA.E5.B0.91X11.E5.A4.B4.E6.96.87.E4.BB.B6.22"> 无法创建某些包，提示"缺少X11头文件" </span></h3>
<p>重新安装xproto和libx11两个包即可（如果两个包已经存在，就覆盖安装）。
</p>
<h3> <span class="mw-headline" id=".E6.97.A0.E6.B3.95.E5.8A.A0.E8.BD.BD.27.28null.29.27.E5.AD.97.E4.BD.93"> 无法加载'(null)'字体 </span></h3>
<ul><li> 一些程序无法运行，提示无法加载`(null)'字体.<b><br></b>
</li></ul>
<p>这些软件包可能需要一些额外的字体。某些程序只能使用位图字体。
目前有两种主要的位图字体包：xorg-fonts-75-dpi、xorg-fonts-100dpi。选择其中一个就可以了。通过下面这个命令查看显示设置：
</p>
<pre>xdpyinfo | grep resolution
</pre>
<p>根据显示信息选择合适dpi的字体即可(用75 或 100 代替XX)：
</p>
<pre>pacman -S xorg-fonts-XXdpi
</pre>
<p><br>
</p>
<h3> <span class="mw-headline" id=".E5.8D.87.E7.BA.A7.E5.88.B0xorg-server_1.5.E5.90.8E.EF.BC.8CKDE4.E4.BB.BB.E5.8A.A1.E6.A0.8F.E5.92.8C.E6.A1.8C.E9.9D.A2.E5.9B.BE.E6.A0.87.E5.87.BA.E9.94.99"> 升级到xorg-server 1.5后，KDE4任务栏和桌面图标出错 </span></h3>
<ul><li> <b>KDE任务栏无法工作，并且桌面图标也消失了</b><br>
</li></ul>
<p>在文件 /etc/X11/xorg.conf中，修改下面一行
</p>
<pre>Option "BackingStore" "True"
</pre>
<p>变成：
</p>
<pre>Option "BackingStore" "False"
</pre>
<h3> <span class="mw-headline" id=".E4.BB.8Etesting.E5.8D.87.E7.BA.A7.E5.88.B0current.E6.97.B6.E2.80.9C.E6.96.87.E4.BB.B6.E4.B8.A2.E5.A4.B1.E2.80.9D"> 从testing升级到current时“文件丢失” </span></h3>
<p>如果你在将testing的Xorg7升级到current（现为core，译者注）的Xorg7时发现许多文件丢失（包括startx,/usr/share/X11/rgb.txt等），这是由于xorg-clients包被拆分成许多小的包时造成的文件丢失。
你需要重新安装xorg-clients包及其依赖的包：
</p>
<pre>pacman -S xorg-apps xorg-font-utils xorg-res-utils xorg-server-utils \
          xorg-twm xorg-utils xorg-xauth xorg-xdm xorg-xfs xorg-xfwp \
          xorg-xinit xorg-xkb-utils xorg-xsm
</pre>
<p>这应该可以解决问题
</p>
<h3> <span class="mw-headline" id=".E4.B8.8D.E5.90.8C.E6.A1.8C.E9.9D.A2.E7.8E.AF.E5.A2.83.E4.B8.8BMIME.E7.9A.84.E7.B1.BB.E5.9E.8B.E9.97.AE.E9.A2.98"> 不同桌面环境下MIME的类型问题 </span></h3>
<p>如果你发现在桌面环境中图标消失，并且无法点击打开文件，在/etc/profile或者某个初始化脚本中加入下面的语句：
</p>
<pre>XDG_DATA_DIRS=$XDG_DATA_DIRS:/usr/share
export XDG_DATA_DIRS
</pre>
<p>重启机器即可。
</p>
<h3> <span class="mw-headline" id="Matrox.E6.98.BE.E5.8D.A1.E7.9A.84DRI.E5.8A.9F.E8.83.BD.E5.A4.B1.E6.95.88"> Matrox显卡的DRI功能失效 </span></h3>
<p>如果你使用的是Matrox显卡，在升级到Xorg7后它的DRI功能失效，试着在xorg.conf的显卡设备设置段Device section中加入下面一行：
</p>
<pre>Option "OldDmaInit" "On"
</pre>
<h3> <span class="mw-headline" id="Xephyr.E4.B8.8B.E6.97.A0.E6.B3.95.E5.90.AF.E5.8A.A8.E4.BB.BB.E4.BD.95.E5.AE.A2.E6.88.B7.E7.AB.AF"> Xephyr下无法启动任何客户端 </span></h3>
<p>客户端连接被X server的安全机制拒绝，你可以在you can find a complete explanation and solution in <a href="http://wiki.debian.org/XStrikeForce/FAQ#howtoxnest" class="external autonumber" rel="nofollow">[1]</a>这里找到完整的解释和解决方法。
</p>
<h3> <span class="mw-headline" id=".E6.97.A0.E6.B3.95.E7.94.A8.22su.22.E4.BB.A5root.E8.BA.AB.E4.BB.BD.E5.90.AF.E5.8A.A8X.E5.AE.A2.E6.88.B7.E7.AB.AF"> 无法用"su"以root身份启动X客户端 </span></h3>
<p>如果你遇到"Client is not authorized to connect to server"，尝试将以下内容
</p>
<pre> session        optional        pam_xauth.so
</pre>
<p>加入到/etc/pam.d/su文件中。
pam_xauth就可以正常设置环境变量以及处理xauth密钥了。
</p>
<h3> <span class="mw-headline" id=".E6.97.A0.E6.B3.95.E8.BF.90.E8.A1.8C.E5.9C.A8frambuffer.E6.A8.A1.E5.BC.8F.E4.B8.8B">无法运行在frambuffer模式下</span></h3>
<p>如果X启动失败，日志中有以下信息：
</p>
<pre>(WW) Falling back to old probe method for fbdev
(II) Loading sub module "fbdevhw"
(II) LoadModule: "fbdevhw"
(II) Loading /usr/lib/xorg/modules/linux//libfbdevhw.so
(II) Module fbdevhw: vendor="X.Org Foundation"
       compiled for 1.6.1, module version = 0.0.2
       ABI class: X.Org Video Driver, version 5.0
(II) FBDEV(1): using default device
 
Fatal server error:
Cannot run in framebuffer mode. Please specify busIDs        for all framebuffer devices
</pre>
<p>只需要卸载<code>xf86-video-fbdev</code>就可以了。
</p>
<h3> <span class="mw-headline" id="Ctrl-Alt-Backspace.E6.97.A0.E6.B3.95.E9.80.80.E5.87.BAX"> Ctrl-Alt-Backspace无法退出X </span></h3>
<h4> <span class="mw-headline" id=".E4.BF.AE.E6.94.B9.2Fetc.2FX11.2Fxorg.conf"> 修改/etc/X11/xorg.conf </span></h4>
<p>新版xorg缺省关闭了使用<span style="border: 0.25em solid; border-color: #DDD #BBB #BBB #DDD; background: #EEE; padding: 0.10em 0.40em; margin: 0.10em; white-space: nowrap; min-width: 1em; display: inline-block; text-align: center">Ctrl</span>+<span style="border: 0.25em solid; border-color: #DDD #BBB #BBB #DDD; background: #EEE; padding: 0.10em 0.40em; margin: 0.10em; white-space: nowrap; min-width: 1em; display: inline-block; text-align: center">Alt</span>+<span style="border: 0.25em solid; border-color: #DDD #BBB #BBB #DDD; background: #EEE; padding: 0.10em 0.40em; margin: 0.10em; white-space: nowrap; min-width: 1em; display: inline-block; text-align: center">Backspace</span>组合键来注销X的功能。你可以加入以下内容：
</p>
<pre> Option  "XkbOptions" "terminate:ctrl_alt_bksp" 
</pre>
<p>到<span style="font-family: monospace; color: #005500; white-space: nowrap">/etc/X11/xorg.conf</span>的键盘的InputDevice段来打开它
</p>
<h4> <span class="mw-headline" id=".E5.A6.82.E6.9E.9C.E4.BD.A0.E4.BD.BF.E7.94.A8input_hotplugging"> 如果你使用input hotplugging </span></h4>
<p>如果你使用hal来管理键盘，你必须加入以下内容到<span style="font-family: monospace; color: #005500; white-space: nowrap">/etc/hal/fdi/policy/10-keymap.fdi</span>来开启这项特性。如果文件不存在，你可以复制<span style="font-family: monospace; color: #005500; white-space: nowrap">/usr/share/hal/fdi/policy/10osvendor/10-keymap.fdi</span>作为模板。
</p>
<pre>&lt;merge key="input.xkb.options" type="string"&gt;terminate:ctrl_alt_bksp&lt;/merge&gt;
</pre>
<p>修改后重启hal。
</p><p>另外一种方法是加入以下内容到<span style="font-family: monospace; color: #005500; white-space: nowrap">~/.xinitrc</span> ：
</p>
<pre>setxkbmap -option terminate:ctrl_alt_bksp
</pre>
<div style="padding: 5px; margin: 0.50em 0; background-color: #DDDDFF; border: thin solid #BBBBFF"><strong> Note: </strong>如果你使用登录/显示管理器如(K/G/X)DM或者Slim，你需要在你的WM/DE登录时运行以上的setxkbmap命令。通常可以利用~/.config/autostart来做这种事情(使用.desktop文件），或者也可以使用~/.bashrc。</div>
<h3> <span class="mw-headline" id=".E5.9C.A8.E5.87.BA.E7.8E.B0GUI.E7.99.BB.E5.BD.95.E7.95.8C.E9.9D.A2.E4.B9.8B.E5.89.8D.EF.BC.8C.E4.B8.8D.E5.90.AF.E5.8A.A8Xorg">在出现GUI登录界面之前，不启动Xorg</span></h3>
<p>如果Xorg设置为自动启动并且出于某些原因你不想让它出现在 登录/显示 
管理器之前(例如，你的rc.conf文件配置有误导致Xorg没有认出你的鼠标或者键盘输入设备。)，有两种办法。在Grub菜单你可以在kernel
行指定运行级，方法是在kernel行尾添加一个数字来指定你想要的运行级。下面的例子设置运行级为3：
</p>
<pre>kernel /boot/vmlinuz26 root=/dev/disk/by-uuid/..ro 3
</pre>
<p>如果你不止是rc.conf配置有误导致Xorg不可用，并且还设置了grub菜单等待时间为零，或者其他某些原因没法使用grub来不让Xorg
启动，那就必须用Arch Live CD了。启动Live CD并以root用户登录，你需要一个挂载点，例如 
/mnt，并且要知道你想要挂载的分区名。可以以root用户使用命令
</p>
<pre>fdisk -l
</pre>
<p>来查看你的全部分区。通常你所要的那个是形如 /dev/sda1 这样的东东。然后，使用命令
</p>
<pre>mount /dev/sda1 /mnt
</pre>
<p>挂载该分区至 /mnt。
这样你的文件系统就挂载在了 /mnt 下。例如，你的rc.conf文件就在 /mnt/etc/rc.conf 。这样你就可以删除gdm模块来阻止Xorg正常启动，或者做其他一些必需的改动。
</p>
<h2> <span class="mw-headline" id=".E7.9B.B8.E5.85.B3.E9.93.BE.E6.8E.A5"> 相关链接 </span></h2>
<p>更多相关内容可以查看以下wiki链接：
</p>
<ul><li> <a href="https://wiki.archlinux.org/index.php/%E5%9C%A8%E5%90%AF%E5%8A%A8%E6%97%B6%E8%87%AA%E5%8A%A8%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E7%99%BB%E5%BD%95%E7%AE%A1%E7%90%86%E5%99%A8%28KDM,_GDM,_or_XDM%29" title="在启动时自动启动一个登录管理器(KDM, GDM, or XDM)" class="mw-redirect">在启动时自动启动一个登录管理器(KDM, GDM, or XDM)</a>
</li><li> <a href="https://wiki.archlinux.org/index.php?title=%E5%90%AF%E5%8A%A8%E6%97%B6%E8%87%AA%E5%8A%A8%E8%BF%90%E8%A1%8CX&amp;action=edit&amp;redlink=1" class="new" title="启动时自动运行X (page does not exist)">启动时自动运行X</a>
</li><li> <a href="https://wiki.archlinux.org/index.php/Font_Configuration_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" title="Font Configuration (简体中文)">X字体配置</a>
</li><li> 非自由显卡驱动
<ul><li> <a href="https://wiki.archlinux.org/index.php/ATI" title="ATI">ATI</a>
</li><li> <a href="https://wiki.archlinux.org/index.php/NVIDIA" title="NVIDIA">NVIDIA</a>
</li></ul>
</li><li> <a href="https://wiki.archlinux.org/index.php/Category:%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83" title="Category:桌面环境">桌面环境</a>
<ul><li> <a href="https://wiki.archlinux.org/index.php/KDE" title="KDE">KDE</a>
</li><li> <a href="https://wiki.archlinux.org/index.php/GNOME" title="GNOME">GNOME</a>
</li><li> <a href="https://wiki.archlinux.org/index.php/Xfce" title="Xfce">Xfce</a>
</li><li> <a href="https://wiki.archlinux.org/index.php/Enlightenment" title="Enlightenment">Enlightenment</a>
</li><li> <a href="https://wiki.archlinux.org/index.php/Fluxbox" title="Fluxbox">Fluxbox</a>
</li></ul>
</li></ul>
<p>或者外部链接：
</p>
<ul><li> <a href="http://en.wikipedia.org/wiki/X.Org_Server" class="external text" rel="nofollow">X.org Wikipedia Article</a>
</li><li> <a href="http://wiki.x.org/wiki/" class="external text" rel="nofollow">X.org</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 771/1000000
Post-expand include size: 10772/2097152 bytes
Template argument size: 3843/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key archwiki:pcache:idhash:3996-0!1!0!!en!2!edit=0 and timestamp 20110405120517 -->
<div class="printfooter">
Retrieved from "<a href="https://wiki.archlinux.org/index.php/Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29">https://wiki.archlinux.org/index.php/Xorg_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)</a>"</div>
		<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks"><a href="https://wiki.archlinux.org/index.php/Special:Categories" title="Special:Categories">Categories</a>: <span dir="ltr"><a href="https://wiki.archlinux.org/index.php/Category:X_Server_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" title="Category:X Server (简体中文)">X Server (简体中文)</a></span> | <span dir="ltr"><a href="https://wiki.archlinux.org/index.php/Category:HOWTOs_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" title="Category:HOWTOs (简体中文)">HOWTOs (简体中文)</a></span> | <span dir="ltr"><a href="https://wiki.archlinux.org/index.php/Category:%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" title="Category:简体中文">简体中文</a></span></div></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				 <li id="ca-nstab-main" class="selected"><a href="https://wiki.archlinux.org/index.php/Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" title="View the content page [alt-shift-c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="https://wiki.archlinux.org/index.php?title=Talk:Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29&amp;action=edit&amp;redlink=1" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				 <li id="ca-viewsource"><a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29&amp;action=edit" title="This page is protected.
You can view its source [alt-shift-e]" accesskey="e">View source</a></li>
				 <li id="ca-history"><a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29&amp;action=history" title="Past revisions of this page [alt-shift-h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="https://wiki.archlinux.org/index.php?title=Special:UserLogin&amp;returnto=Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" title="You are encouraged to log in; however, it is not mandatory [alt-shift-o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(&quot;https://d11xdyzr0div58.cloudfront.net/wiki-1.16.0/skins/archwiki_logo.png&quot;);" href="https://wiki.archlinux.org/index.php/Main_Page" title="Visit the main page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-mainpage-description"><a href="https://wiki.archlinux.org/index.php/Main_Page" title="Visit the main page [alt-shift-z]" accesskey="z">Main page</a></li>
				<li id="n-portal"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Community_portal" title="Various ways Archers can contribute to the community">Community portal</a></li>
				<li id="n-currentevents"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Current_events" title="The latest lowdown on the wiki">Current events</a></li>
				<li id="n-recentchanges"><a href="https://wiki.archlinux.org/index.php/Special:RecentChanges" title="The list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li>
				<li id="n-randompage"><a href="https://wiki.archlinux.org/index.php/Special:Random" title="Load a random page [alt-shift-x]" accesskey="x">Random page</a></li>
				<li id="n-help"><a href="https://wiki.archlinux.org/index.php/Help:Contents" title="Wiki navigation, reading, and editing help">Help</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/index.php" id="searchform">
				<input name="title" value="Special:Search" type="hidden">
				<input id="searchInput" title="Search ArchWiki" accesskey="f" name="search" type="search">
				<input name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists" type="submit">&nbsp;
				<input name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" type="submit">
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="https://wiki.archlinux.org/index.php/Special:WhatLinksHere/Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" title="List of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="https://wiki.archlinux.org/index.php/Special:RecentChangesLinked/Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="https://wiki.archlinux.org/index.php/Special:SpecialPages" title="List of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29&amp;printable=yes" rel="alternate" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="https://wiki.archlinux.org/index.php?title=Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29&amp;oldid=135893" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"></a></div>
	<div id="f-copyrightico"><a href="http://www.gnu.org/copyleft/fdl.html"><img src="Xorg_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29_files/gnu-fdl.png" alt="GNU Free Documentation License 1.2" width="88" height="31"></a></div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 4 April 2011, at 11:37.</li>
		<li id="viewcount">This page has been accessed 48,845 times.</li>
		<li id="copyright">Content is available under <a href="http://www.gnu.org/copyleft/fdl.html" class="external ">GNU Free Documentation License 1.2</a>.</li>
		<li id="privacy"><a href="https://wiki.archlinux.org/index.php/ArchWiki:Privacy_policy" title="ArchWiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="https://wiki.archlinux.org/index.php/AboutWiki" title="AboutWiki">About ArchWiki</a></li>
		<li id="disclaimer"><a href="https://wiki.archlinux.org/index.php/ArchWiki:General_disclaimer" title="ArchWiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>

<script>if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.144 secs. -->
</body></html>