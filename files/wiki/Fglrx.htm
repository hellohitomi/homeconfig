<!DOCTYPE html>
<html class="client-firefox client-firefox-4 client-gecko client-linux" dir="ltr" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>fglrx - Gentoo Linux Wiki</title>
<meta name="generator" content="MediaWiki 1.18alpha">
<link rel="alternate" type="application/x-wiki" title="Edit" href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit">
<link rel="edit" title="Edit" href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit">
<link rel="shortcut icon" href="http://en.gentoo-wiki.com/favicon.png">
<link rel="search" type="application/opensearchdescription+xml" href="http://en.gentoo-wiki.com/w/opensearch_desc.php" title="Gentoo Linux Wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="http://en.gentoo-wiki.com/w/api.php?action=rsd">
<link rel="copyright" href="http://en.gentoo-wiki.com/wiki/Creative_Commons">
<link rel="alternate" type="application/atom+xml" title="Gentoo Linux Wiki Atom feed" href="http://en.gentoo-wiki.com/w/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="Fglrx_files/load_002.css">
<link rel="stylesheet" href="Fglrx_files/main.css" media="screen">
<!--[if lt IE 5.5000]><link rel="stylesheet" href="/w/skins/monobook/IE50Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 5.5000]><link rel="stylesheet" href="/w/skins/monobook/IE55Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><style type="text/css" media="all">.mw-collapsible-toggle{float:right}.mw-collapsible-toggle-expanded,.mw-collapsible-toggle-expanded a{cursor:n-resize}.mw-collapsible-toggle-collapsed,.mw-collapsible-toggle-collapsed a{cursor:s-resize} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}

/* cache key: wiki_en:resourceloader:filter:minify-css:4:282f17b90bc4ed77a9a42a15c0272eb2 */</style><style type="text/css" media="all">.js-messagebox{margin:1em 5%;padding:0.5em 2.5%;border:1px solid #ccc;background-color:#fcfcfc;font-size:0.8em}.js-messagebox .js-messagebox-group{margin:1px;padding:0.5em 2.5%;border-bottom:1px solid #ddd}.js-messagebox .js-messagebox-group:last-child{border-bottom:thin none transparent}

/* cache key: wiki_en:resourceloader:filter:minify-css:4:8b08bdc91c52a9ffba396dccfb5b473c */</style><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="Fglrx_files/load.css">
<style>a.new,#quickbar a.new{color:#ba0000}

/* cache key: wiki_en:resourceloader:filter:minify-css:4:f2a9127573a22335c2a9102b208c73e7 */</style>
<script>try {  for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){    var lastpass_f = document.forms[lastpass_iter];    if(typeof(lastpass_f.lpsubmitorig)=="undefined"){      if (typeof(lastpass_f.submit) == "function") {        lastpass_f.lpsubmitorig = lastpass_f.submit;        lastpass_f.submit = function(){          var form = this;          try {            if (document.documentElement && 'createEvent' in document)            {              var forms = document.getElementsByTagName('form');              for (var i=0 ; i<forms.length ; ++i)                if (forms[i]==form)                {                  var element = document.createElement('lpformsubmitdataelement');                  element.setAttribute('formnum',i);                  element.setAttribute('from','submithook');                  document.documentElement.appendChild(element);                  var evt = document.createEvent('Events');                  evt.initEvent('lpformsubmit',true,false);                  element.dispatchEvent(evt);                  break;                }            }          } catch (e) {}          try {            form.lpsubmitorig();          } catch (e) {}        }      }    }  }} catch (e) {}</script></head>
<body class="mediawiki ltr ns-0 ns-subject page-Fglrx skin-monobook">

	<div id="globalWrapper">
		<div id="column-content">
		<div id="gad" style="position: absolute; right: 0; top: 3em; width: 123px;">&nbsp;


<a href="http://www.rackbyte.com/aff.php?aff=003"><img src="Fglrx_files/rackbyte.gif"></a>

	</div>
	<div id="content" style="margin-right: 128px;"><div style="display: none;" class="js-messagebox" id="mw-js-message"></div>
			<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">fglrx</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Gentoo Linux Wiki</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p>Catalyst is the name of the proprietary driver for AMD/ATI based chipsets for Linux and Windows. It is also known as <b>fglrx</b> and <a rel="nofollow" class="external text" href="http://gentoo-portage.com/x11-drivers/ati-drivers">x11-drivers/ati-drivers</a>
 in the Portage tree. Please Note that the current version of Fglrx does
 NOT support any cards that are not Directx Level 10 or above; anything 
x1950 or lower must use the Open Source drivers.
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2><span class="toctoggle">&nbsp;[<a href="#" class="internal" id="togglelink">hide</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Installing_fglrx"><span class="tocnumber">1</span> <span class="toctext">Installing fglrx</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Configuring_X"><span class="tocnumber">2</span> <span class="toctext">Configuring X</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Tweaking_xorg.conf"><span class="tocnumber">3</span> <span class="toctext">Tweaking xorg.conf</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#AIGLX_with_fglrx"><span class="tocnumber">4</span> <span class="toctext">AIGLX with fglrx</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Troubleshooting"><span class="tocnumber">5</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Startup_problems"><span class="tocnumber">5.1</span> <span class="toctext">Startup problems</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#AGP"><span class="tocnumber">5.1.1</span> <span class="toctext">AGP</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Unable_to_modprobe_fglrx"><span class="tocnumber">5.1.2</span> <span class="toctext">Unable to modprobe fglrx</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#PreInitDAL_failed"><span class="tocnumber">5.1.3</span> <span class="toctext">PreInitDAL failed</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Crashes.2Ffreezes"><span class="tocnumber">5.2</span> <span class="toctext">Crashes/freezes</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#X_crashes_when_playing_a_video_using_Xv"><span class="tocnumber">5.2.1</span> <span class="toctext">X crashes when playing a video using Xv</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#System_freezes_after_logout_with_GDM_or_KDM"><span class="tocnumber">5.2.2</span> <span class="toctext">System freezes after logout with GDM or KDM</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Any_3D_app_crashes_fglrx"><span class="tocnumber">5.2.3</span> <span class="toctext">Any 3D app crashes fglrx</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Mplayer_in_full-screen"><span class="tocnumber">5.2.4</span> <span class="toctext">Mplayer in full-screen</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Runtime_warnings.2Ferrors"><span class="tocnumber">5.3</span> <span class="toctext">Runtime warnings/errors</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="#libGL:_failed_to_open_DRM"><span class="tocnumber">5.3.1</span> <span class="toctext">libGL: failed to open DRM</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="#No_direct_rendering"><span class="tocnumber">5.3.2</span> <span class="toctext">No direct rendering</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#ACPI_script_missing_finger_command"><span class="tocnumber">5.3.3</span> <span class="toctext">ACPI script missing finger command</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Open_ACPI_failed_.28.2Fvar.2Frun.2Facpid.socket.29_.28No_such_file_or_directory.29"><span class="tocnumber">5.3.4</span> <span class="toctext">Open ACPI failed (/var/run/acpid.socket) (No such file or directory)</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Failed_to_load_module_.22dri2.22_.28module_does_not_exist.2C_0.29"><span class="tocnumber">5.3.5</span> <span class="toctext">Failed to load module "dri2" (module does not exist, 0)</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</td></tr></tbody></table>
<h2><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=1" title="Edit section: Installing fglrx">edit</a>]</span> <span class="mw-headline" id="Installing_fglrx">Installing fglrx</span></h2>
<p>Installing fglrx is relatively straightforward.
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># emerge -av x11-drivers/ati-drivers</div>
<p>Or enable the fglrx video card, which pulls in x11-drivers/ati-drivers:
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/make.conf</div><pre>...
VIDEO_CARDS="fglrx"
...
</pre></div>
<p>And then rebuild <a rel="nofollow" class="external text" href="http://gentoo-portage.com/x11-base/xorg-server">x11-base/xorg-server</a>:
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># emerge -av1 x11-base/xorg-server</div>
<h2><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=2" title="Edit section: Configuring X">edit</a>]</span> <span class="mw-headline" id="Configuring_X">Configuring X</span></h2>
<p>AMD ships fglrx with a free tool to quickly get a working xorg.conf, which can also be used to further tweak the configuration.
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># /opt/bin/aticonfig --initial --input=/etc/X11/xorg.conf</div>
<p>This backups your xorg.conf and modifies it for fglrx. Finally, eselect can be used to tell X.Org about fglrx:
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># eselect opengl set ati</div>
<p>Now you can (re)start X, and things should be fine. If not, continue to <a href="#Troubleshooting">#Troubleshooting</a>.
</p>
<h2><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=3" title="Edit section: Tweaking xorg.conf">edit</a>]</span> <span class="mw-headline" id="Tweaking_xorg.conf">Tweaking xorg.conf</span></h2>
<p>Several tweaks are known in the community. Please note that these aren't default for a reason.
</p>
<table width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td style="background-color: rgb(255, 255, 153); border: 1px dotted rgb(153, 153, 85); padding: 0px 4px;"> <font size="-1"><b>Fix me:</b> add tweaks</font>
</td></tr></tbody></table>
<h2><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=4" title="Edit section: AIGLX with fglrx">edit</a>]</span> <span class="mw-headline" id="AIGLX_with_fglrx">AIGLX with fglrx</span></h2>
<p>Using ati-drivers 8.433 or later, you can enable and use AIGLX and thus use compositing window managers like <a href="http://en.gentoo-wiki.com/wiki/Compiz-Fusion" title="Compiz-Fusion">Compiz Fusion</a>. Some users have reported instability, but you'll have to see for yourself.
You have to modify 
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/X11/xorg.conf</div><pre>...
Section "Extensions"

        Option        "Composite"        "Enable"

EndSection
...
...
Section "ServerFlags"

        Option        "AIGLX"            "On"

EndSection
...
</pre></div>
<h2><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=5" title="Edit section: Troubleshooting">edit</a>]</span> <span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
<h3><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=6" title="Edit section: Startup problems">edit</a>]</span> <span class="mw-headline" id="Startup_problems">Startup problems</span></h3>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=7" title="Edit section: AGP">edit</a>]</span> <span class="mw-headline" id="AGP">AGP</span></h4>
<p>By default, the driver uses the Internal AGPGART. Sometimes the 
internal one doesn't work, and you will have to use the one provided 
with the kernel. Search your xorg.conf for the line that has the option 
"UseInternalAGPGART." Simply change the "yes" to "no."
</p>
<div style="padding: .2em .3em; margin: .2em .2em; background-color: #c1ffc1; border: solid 1px #00B000; font-size: 92%; width: 65%;"><b>Note:</b> If you can't find it, add it. In the Section "Device" right under Driver "fglrx"</div>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/X11/xorg.conf</div><pre>...
        Option "UseInternalAGPGART" "no"
...
</pre></div>
<p>Now simply add the modules to /etc/modules.autoload.d/kernel-2.6.
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/modules.autoload.d/kernel-2.6</div><pre>...
agpgart
intel-agp # change intel-agp to your chipset. eg: via-agp, nvidia-agp sis-agp.
fglrx
...
</pre></div>
<p>Finally, run
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># update-modules</div>
<p>Then you can reboot and everything should work. If you are having problems, check dmesg and <span style="color:darkgreen; font-weight:bold; font-family: monospace">/var/log/Xorg.0.log</span> for more info.
</p>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=8" title="Edit section: Unable to modprobe fglrx">edit</a>]</span> <span class="mw-headline" id="Unable_to_modprobe_fglrx">Unable to modprobe fglrx</span></h4>
<p>If the module cannot be loaded ("operation not permitted"), check that the kernel's Direct Rendering Manager is disabled:
</p>
<table style="background-color: rgb(250, 235, 215); border: 3px solid rgb(112, 112, 255); padding: 1px;" width="100%" cellpadding="0" cellspacing="0">
<tbody><tr>
<td style="background-color: rgb(112, 112, 255); color: rgb(255, 255, 255); font-size: 0.9em; padding-left: 3px;"> <b>Linux Kernel Configuration:</b>
</td></tr>
<tr>
<td>
<pre>Device Drivers  ---&gt;
    Graphics support  ---&gt;
        &lt; &gt; Direct Rendering Manager (XFree86 4.1.0 and higher DRI support)  ---&gt;
</pre>
</td></tr></tbody></table>
<p>If you are using a precompiled kernel you can try to unload the dri and radeon module before modprobing fglrx.
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># modprobe -r dri radeon
# modprobe fglrx</div>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=9" title="Edit section: PreInitDAL failed">edit</a>]</span> <span class="mw-headline" id="PreInitDAL_failed">PreInitDAL failed</span></h4>
<p>This can happen if multiple monitors were detected, even though you 
don't have multiple monitors. To fix it, use aticonfig --enable-monitor 
and aticonfig --force-monitor to specify which monitors you use. 
Example, if you have a VGA + DVI card, but only use your VGA connection:
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># aticonfig --enable-monitor=crt1 --force-monitor=crt1,notmds1</div>
<p>Some had success with disabling framebuffer in kernelconfig, 
recompile, reboot! This happend as i upgraded from 8.28.8 to 8.32.5.
</p>
<h3><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=10" title="Edit section: Crashes/freezes">edit</a>]</span> <span class="mw-headline" id="Crashes.2Ffreezes">Crashes/freezes</span></h3>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=11" title="Edit section: X crashes when playing a video using Xv">edit</a>]</span> <span class="mw-headline" id="X_crashes_when_playing_a_video_using_Xv">X crashes when playing a video using Xv</span></h4>
<p>Even though Xv is scheduled for launch, the bindings don't work 
correctly yet. Add the following option to your Xorg.conf file in the 
device section:
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/X11/xorg.conf</div><pre>...
 Option "TexturedVideo" "on"
...
</pre></div>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=12" title="Edit section: System freezes after logout with GDM or KDM">edit</a>]</span> <span class="mw-headline" id="System_freezes_after_logout_with_GDM_or_KDM">System freezes after logout with GDM or KDM</span></h4>
<p>If you use GDM modify <span style="color:darkgreen; font-weight:bold; font-family: monospace">/etc/X11/gdm/custom.conf</span>
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/X11/gdm/custom.conf</div><pre>...
[daemon]
AlwaysRestartServer=true
</pre></div>
<p>If you use KDM add to the [X-:*-Core] section the following
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /usr/share/config/kdm/kdmrc</div><pre>...
[X-:*-Core]
...
TerminateServer=true
...
</pre></div>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=13" title="Edit section: Any 3D app crashes fglrx">edit</a>]</span> <span class="mw-headline" id="Any_3D_app_crashes_fglrx">Any 3D app crashes fglrx</span></h4>
<p>If you are unable to use any 3d applications and get this error instead:
</p>
<pre>FGLTexMgr: open of shared memory object failed (Function not implemented)
__FGLTexMgrCreateObject: __FGLTexMgrSHMmalloc failed!!!
fglX11AllocateManagedSurface: __FGLTexMgrCreateObject failed!!
FGLTexMgr: open of shared memory object failed (Function not implemented)
__FGLTexMgrCreateObject: __FGLTexMgrSHMmalloc failed!!!
fglX11AllocateManagedSurface: __FGLTexMgrCreateObject failed!!
FGLTexMgr: open of shared memory object failed (Function not implemented)
__FGLTexMgrCreateObject: __FGLTexMgrSHMmalloc failed!!!
</pre>
<p>Then you do not have tmpfs mounted on <span style="color:darkgreen; font-weight:bold; font-family: monospace">/dev/shm</span>, which the driver requires. To mount this, add to following line to <span style="color:darkgreen; font-weight:bold; font-family: monospace">/etc/fstab</span>:
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/fstab</div><pre>...
tmpfs     /dev/shm           tmpfs        defaults            0 0
</pre></div>
<p>Then just tell mount to update based on the new information:
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># mount /dev/shm</div>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=14" title="Edit section: Mplayer in full-screen">edit</a>]</span> <span class="mw-headline" id="Mplayer_in_full-screen">Mplayer in full-screen</span></h4>
<p>If you have problems with mplayer not playing in full screen, set
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/X11/xorg.conf</div><pre>...
Option "VideoOverlay"       "on"
...
</pre></div>
<p>Into your device section.
</p>
<h3><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=15" title="Edit section: Runtime warnings/errors">edit</a>]</span> <span class="mw-headline" id="Runtime_warnings.2Ferrors">Runtime warnings/errors</span></h3>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=16" title="Edit section: libGL: failed to open DRM">edit</a>]</span> <span class="mw-headline" id="libGL:_failed_to_open_DRM">libGL: failed to open DRM</span></h4>
<p>If you get this error (for example if you use glxgears):
</p>
<pre>libGL error: failed to open DRM
</pre>
<p>then you are trying to run as a user that doesn't have permission to 
use the DRI (root is the default allowed user). To let all users access 
the DRI, add the following section to your <span style="color:darkgreen; font-weight:bold; font-family: monospace">/etc/X11/xorg.conf</span>:
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/X11/xorg.conf</div><pre>...
Section "dri"
   Mode 0666
EndSection
...
</pre></div>
<p>Alternatively, you can use the group "video" to control access. If you want to do this, add the following section to your <span style="color:darkgreen; font-weight:bold; font-family: monospace">/etc/X11/xorg.conf</span>:
</p>
<div style="border: 1px solid rgb(255, 191, 191); padding: .2em .3em; margin: .2em .2em; background-color: rgb(255, 242, 242);"><div style="background-color: #ffc1c1; padding: .2em; margin: .2em; border: solid 1px #ff7070; font-size: 92%;"><b>File:</b> /etc/X11/xorg.conf</div><pre>...
Section "dri"
  Group "video"
  Mode 0660
EndSection
...
</pre></div>
<p>And then add the users which use X to the video group:
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># gpasswd -a john video</div>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=17" title="Edit section: No direct rendering">edit</a>]</span> <span class="mw-headline" id="No_direct_rendering">No direct rendering</span></h4>
<p>If fglrxinfo says "mesa3d.org" instead of "ATI" after A SUCCESSFUL modprobe of fglrx, for example like so:
</p>
<pre>display:&nbsp;:0.0 screen: 0
OpenGL vendor string: Mesa project: www.mesa3d.org
OpenGL renderer string: Mesa GLX Indirect
OpenGL version string: 1.2 (1.5 Mesa 6.2.1)
</pre>
<p>you may need to do
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># emerge -av eselect-opengl
# eselect opengl set ati
# source /etc/profile</div>
<p>Also, make sure DRI is enabled and started with the proper permissions set in your xorg.conf as well, as explained in <a href="#libGL:_failed_to_open_DRM">this section</a>.
A proper output looks like follows:
</p>
<pre>display:&nbsp;:0.0  screen: 0
OpenGL vendor string: ATI Technologies Inc.
OpenGL renderer string: MOBILITY RADEON X300 Generic
OpenGL version string: 2.0.5695 (8.23.7)
</pre>
<p>OpenGL should work properly now with DRI enabled. Check with glxinfo.
</p>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=18" title="Edit section: ACPI script missing finger command">edit</a>]</span> <span class="mw-headline" id="ACPI_script_missing_finger_command">ACPI script missing finger command</span></h4>
<p>If you get the following errors in <span style="color:darkgreen; font-weight:bold; font-family: monospace">/var/log/acpid</span>:
</p>
<pre>/etc/acpi/ati-powermode.sh: line 8: finger: command not found
/etc/acpi/ati-powermode.sh: line 10: finger: command not found
</pre>
<p>Install the netkit-fingerd package, which provides the finger command.
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># emerge -av netkit-fingerd</div>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=19" title="Edit section: Open ACPI failed (/var/run/acpid.socket) (No such file or directory)">edit</a>]</span> <span class="mw-headline" id="Open_ACPI_failed_.28.2Fvar.2Frun.2Facpid.socket.29_.28No_such_file_or_directory.29">Open ACPI failed (/var/run/acpid.socket) (No such file or directory)</span></h4>
<p>ACPI service is probably not runing.
</p>
<div style="background-color: #ffe0e0; color:#000000; padding:.05em .5em; margin:.5em; border:1px solid #cc6666; border-left:10px solid #cc6666; font-size: 92%; white-space:pre; font-family:monospace; width: 55%;"># /etc/init.d/acpid start</div>
<h4><span class="editsection">[<a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit&amp;section=20" title="Edit section: Failed to load module &quot;dri2&quot; (module does not exist, 0)">edit</a>]</span> <span class="mw-headline" id="Failed_to_load_module_.22dri2.22_.28module_does_not_exist.2C_0.29">Failed to load module "dri2" (module does not exist, 0)</span></h4>
<p>This is normal. Fglrx doesn't use the dri and dri2 modules.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 531/1000000
Post-expand include size: 8272/2097152 bytes
Template argument size: 1400/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key wiki_en:pcache:idhash:978-0!*!0!!en!*!* and timestamp 20110405144541 -->
<div class="printfooter">
Retrieved from "<a href="http://en.gentoo-wiki.com/wiki/Fglrx">http://en.gentoo-wiki.com/wiki/Fglrx</a>"</div>
			<div id="catlinks" class="catlinks"><div id="mw-normal-catlinks"><a href="http://en.gentoo-wiki.com/wiki/Special:Categories" title="Special:Categories">Categories</a>: <span dir="ltr"><a href="http://en.gentoo-wiki.com/wiki/Category:Articles_that_need_to_be_fixed" title="Category:Articles that need to be fixed">Articles that need to be fixed</a></span> | <span dir="ltr"><a href="http://en.gentoo-wiki.com/wiki/Category:Graphics_Cards" title="Category:Graphics Cards">Graphics Cards</a></span></div></div>			<!-- end content -->
						<div class="visualClear"></div>
		</div>
	</div>
		</div>
		<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
	
				 <li id="ca-nstab-main" class="selected"><a href="http://en.gentoo-wiki.com/wiki/Fglrx" title="View the content page [alt-shift-c]" accesskey="c">Page</a></li>
				 <li id="ca-talk" class="new"><a href="http://en.gentoo-wiki.com/w/index.php?title=Talk:Fglrx&amp;action=edit&amp;redlink=1" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				 <li id="ca-edit"><a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=edit" title="You can edit this page. Please use the preview button before saving [alt-shift-e]" accesskey="e">Edit</a></li>
				 <li id="ca-history"><a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;action=history" title="Past revisions of this page [alt-shift-h]" accesskey="h">History</a></li>			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-login"><a href="http://en.gentoo-wiki.com/w/index.php?title=Special:UserLogin&amp;returnto=Fglrx" title="You are encouraged to log in; however, it is not mandatory [alt-shift-o]" accesskey="o">Log in / create account</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
		<a style="background-image: url(&quot;/img/wiki_g.png&quot;);" href="http://en.gentoo-wiki.com/wiki/Main_Page" title="Visit the main page"></a>
	</div>
	<script type="text/javascript"> if (window.isMSIE55) fixalpha(); </script>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-mainpage-description"><a href="http://en.gentoo-wiki.com/wiki/Main_Page" title="Visit the main page [alt-shift-z]" accesskey="z">Main page</a></li>
				<li id="n-News"><a href="http://en.gentoo-wiki.com/wiki/Index:News">News</a></li>
				<li id="n-Browse-Categories"><a href="http://en.gentoo-wiki.com/wiki/Category:Browse_Categories">Browse Categories</a></li>
				<li id="n-All-Categories"><a href="http://en.gentoo-wiki.com/wiki/Special:Categories">All Categories</a></li>
				<li id="n-recentchanges"><a href="http://en.gentoo-wiki.com/wiki/Special:RecentChanges" title="The list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-support">
		<h5>support</h5>
		<div class="pBody">
			<ul>
				<li id="n-help"><a href="http://en.gentoo-wiki.com/wiki/Help:Contents" title="The place to find out">Help</a></li>
				<li id="n-FAQ"><a href="http://en.gentoo-wiki.com/wiki/Help:FAQ">FAQ</a></li>
				<li id="n-IRC-.28.23gentoo-wiki.29"><a href="http://en.gentoo-wiki.com/wiki/Help:IRC">IRC (#gentoo-wiki)</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform">
				<input name="title" value="Special:Search" type="hidden">
				<input id="searchInput" title="Search Gentoo Linux Wiki" accesskey="f" name="search" type="search">
				<input name="go" class="searchButton" id="searchGoButton" value="Go" title="Go to a page with this exact name if exists" type="submit">&nbsp;
				<input name="fulltext" class="searchButton" id="mw-searchButton" value="Search" title="Search the pages for this text" type="submit">
			</form>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-indexes">
		<h5>indexes</h5>
		<div class="pBody">
			<ul>
				<li id="n-Indexes"><a href="http://en.gentoo-wiki.com/wiki/Category:Index">Indexes</a></li>
				<li id="n-Tutorials"><a href="http://en.gentoo-wiki.com/wiki/Index:Tutorials">Tutorials</a></li>
				<li id="n-Hardware"><a href="http://en.gentoo-wiki.com/wiki/Index:Hardware">Hardware</a></li>
				<li id="n-Laptops"><a href="http://en.gentoo-wiki.com/wiki/Index:Laptops">Laptops</a></li>
				<li id="n-Definitions"><a href="http://en.gentoo-wiki.com/wiki/Index:Definitions">Definitions</a></li>
				<li id="n-Official-Articles"><a href="http://en.gentoo-wiki.com/wiki/Index:Official">Official Articles</a></li>
			</ul>
		</div>
	</div>
	<div class="generated-sidebar portlet" id="p-development">
		<h5>development</h5>
		<div class="pBody">
			<ul>
				<li id="n-Style-Guide"><a href="http://en.gentoo-wiki.com/wiki/Gentoo_Linux_Wiki:Style_Guide">Style Guide</a></li>
				<li id="n-Naming-Conventions"><a href="http://en.gentoo-wiki.com/wiki/Gentoo_Linux_Wiki:Naming_Conventions">Naming Conventions</a></li>
				<li id="n-Templates"><a href="http://en.gentoo-wiki.com/wiki/Index:Templates">Templates</a></li>
				<li id="n-Template-Sandbox"><a href="http://en.gentoo-wiki.com/wiki/Template:Sandbox">Template Sandbox</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://en.gentoo-wiki.com/wiki/Special:WhatLinksHere/Fglrx" title="List of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://en.gentoo-wiki.com/wiki/Special:RecentChangesLinked/Fglrx" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
<li id="t-specialpages"><a href="http://en.gentoo-wiki.com/wiki/Special:SpecialPages" title="List of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;printable=yes" rel="alternate" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>				<li id="t-permalink"><a href="http://en.gentoo-wiki.com/w/index.php?title=Fglrx&amp;oldid=28886" title="Permanent link to this revision of the page">Permanent link</a></li>			</ul>
		</div>
	</div>
	<div id="p-lang" class="portlet">
		<h5>In other languages</h5>
		<div class="pBody">
			<ul>
				<li class="interwiki-ru"><a href="http://ru.gentoo-wiki.com/wiki/Fglrx">Русский</a></li>
			</ul>
		</div>
	</div>
		</div><!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footer">
				<div id="f-poweredbyico"><a href="http://www.mediawiki.org/"><img src="Fglrx_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31"></a></div>
			<ul id="f-list">
					<li id="lastmod"> This page was last modified on 18 February 2011, at 07:29.</li>
					<li id="copyright">Content is available under <a href="http://en.gentoo-wiki.com/wiki/Creative_Commons">Creative Commons</a>.</li>
					<li id="privacy"><a href="http://en.gentoo-wiki.com/wiki/Gentoo_Linux_Wiki:Privacy_policy" title="Gentoo Linux Wiki:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="http://en.gentoo-wiki.com/wiki/Gentoo_Linux_Wiki:About" title="Gentoo Linux Wiki:About">About Gentoo Linux Community Wiki</a></li>
					<li id="disclaimer"><a href="http://en.gentoo-wiki.com/wiki/Gentoo_Linux_Wiki:General_disclaimer" title="Gentoo Linux Wiki:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>

</div>

<script src="Fglrx_files/load_004.php"></script><script src="Fglrx_files/load.php"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Fglrx", "wgTitle": "Fglrx", "wgCurRevisionId": 28886, "wgArticleId": 978, "wgIsArticle": true, "wgAction": "view", "wgUserName": null, "wgUserGroups": ["*"], "wgCategories": ["Articles that need to be fixed", "Graphics Cards"], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
	mw.loader.load(["mediawiki.util", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
	mw.loader.go();
}
</script><script type="text/javascript" src="Fglrx_files/load_002.php"></script>
<script src="Fglrx_files/load_003.php"></script>
<script>if ( window.mediaWiki ) {
	mw.user.options.set({"ccmeonemails":0,"cols":80,"contextchars":50,"contextlines":5,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
	"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":true,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"searchNs100":true,"searchNs101":false,"searchNs102":true,"searchNs103":false,"searchNs104":false,"searchNs105":false,"searchNs106":false,"searchNs107":false});;mw.loader.state({"user.options":"ready"});
	
	/* cache key: wiki_en:resourceloader:filter:minify-js:4:8187bf550d0c25f10864fda1a2707872 */
}
</script><!-- Served in 0.076 secs. -->
</body></html>